{"version":3,"sources":["ws/LocalWebSocket.js","ws/AbstractWebSocket.js","routes/DeathCounter.jsx","routes/RequestQueue.jsx","routes/multi/BadApple.jsx","routes/multi/BirdUp.jsx","routes/multi/ZeldaRaidAlert.jsx","routes/multi/YoshiRaidAlert.jsx","routes/multi/ChargeRaidAlert.jsx","routes/multi/VideoPlayer.jsx","routes/multi/TwitchMultiOverlay.jsx","routes/SoundPlayer.jsx","util/testData.js","routes/RaidAlertTestHarness.jsx","App.js","reportWebVitals.js","index.js"],"names":["LocalWebSocket","wsAddress","panelName","listenFor","connect","ws","onopen","send","JSON","stringify","type","from","name","interval","clearInterval","setInterval","onmessage","message","event","parse","data","includes","console","log","queue","push","onclose","e","reason","setTimeout","onerror","err","error","close","channelId","disconnect","next","length","slice","hasNext","this","W3CWebSocket","DeathCounter","props","consumer","currentEvent","onDeath","eventData","count","setState","prevState","deaths","textScale","direction","state","Math","min","max","document","addEventListener","onReset","removeEventListener","style","height","width","userSelect","className","fontWeight","fontSize","WebkitTextStroke","WebkitTextFillColor","lineHeight","React","Component","RequestQueue","requestList","showQueue","mode","position","bottom","left","textAlign","onClick","request","requester","maxWidth","margin","padding","backgroundColor","color","reverse","map","index","BadApple","URLSearchParams","window","location","search","timerCallback","videoElement","current","paused","ended","computeFrame","timeOut","ctx1","drawImage","vw","vh","frame","getImageData","i","red","green","blue","ctx2","putImageData","createRef","canvasElement1","canvasElement2","averageColor","r","g","b","documentElement","clientHeight","innerHeight","clientWidth","innerWidth","clearTimeout","onComplete","getContext","onresize","play","overflow","display","src","process","controls","crossOrigin","ref","border","BirdUp","birdup","a","stages","audio","Audio","stage","playing","textRef","imageRef1","imageRef2","imageRef3","imageRef4","imageRef5","imageRef6","birdQueue","alt","right","zIndex","fontFamily","transform","RaidAlert","ground","waterGroup","isHurt","isDying","timeout","scaleDimensions","preload","load","image","spritesheet","frameWidth","frameHeight","create","variable","scale","game","groundWidth","textures","get","getSourceImage","groundHeight","waterWidth","groundHeights","random","physics","add","staticGroup","anims","key","frames","generateFrameNumbers","start","end","frameRate","repeat","bgm","sound","loop","volume","battle","hurt","die","fanfare","once","scene","stop","sys","destroy","linkY","link","sprite","setOrigin","setBounce","setScale","setGravityY","refreshBody","body","setCollideWorldBounds","collider","slime","setGravity","setVelocityX","overlap","setVelocity","useDamping","setDrag","waterX","water","x","y","g1","update","useEffect","config","Phaser","AUTO","transparent","parent","default","arcade","gravity","Game","id","yoshiCount","yoshis","badum","speed","ceil","log2","spacing","colors","wall","displayHeight","floor","yoshi","spriteCount","sprites","forEach","file","music","leavingSound","startFrame","endFrame","RandomCustomVideo","chromaKey","url","TwitchMultiOverlay","reset","showComponent","mediaName","raidTheme","YoshiRaidAlert","ZeldaRaidAlert","ChargeRaidAlert","raidCustomTheme","SoundPlayer","consumerLocked","soundPlaying","top","configs","YOSHI","SKULLMAN","CHAIR","getRaidAlert","axios","headers","localStorage","getItem","found","RaidAlertTestHarness","useState","clicked","setClicked","raider","setRaider","raidSize","setRaidSize","theme","setTheme","setKey","storedConfig","setStoredConfig","urlParams","raidId","raidAlert","App","path","component","exact","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","speechSynthesis","onvoiceschanged","maleVoice","getVoices","find","element","femaleVoice","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.dd5699d7.chunk.js","sourcesContent":["import AbstractWebSocket from './AbstractWebSocket';\n\nexport default class LocalWebSocket extends AbstractWebSocket{\n    constructor(wsAddress, panelName, listenFor) {\n        super(wsAddress, panelName, listenFor, null);\n    }\n\n    connect = () => {\n        this.ws.onopen = () => {\n            this.ws.send(JSON.stringify({\n                type: \"PANEL_INIT\",\n                from: \"PANEL\",\n                name: this.panelName\n            }));\n\n            if (this.interval) {\n                clearInterval(this.interval);\n            }\n\n            this.interval = setInterval(() => {\n                this.ws.send(JSON.stringify({\n                    type: \"PANEL_PING\",\n                    from: \"PANEL\",\n                    name: this.panelName\n                }));\n            }, 20 * 1000);\n        };\n    \n        this.ws.onmessage = (message) => {\n            let event = JSON.parse(message.data);\n    \n            if (!this.listenFor.includes(event.type)) {\n                return;\n            }\n    \n            console.log(\"Received: \" + JSON.stringify(event, null, 5));\n    \n            this.queue.push(event);\n        };\n    \n        this.ws.onclose = (e) => {\n            console.log('Socket is closed. Reconnect will be attempted in 5 second.', e.reason);\n            setTimeout(() => {\n                this.connect();\n            }, 5000);\n        };\n    \n        this.ws.onerror = (err) => {\n            console.error('Socket encountered error: ', err.message, 'Closing socket');\n            this.ws.close();\n        };\n    }\n}","import { w3cwebsocket as W3CWebSocket } from \"websocket\";\n\nexport default class RemoteWebSocket {\n    constructor(wsAddress, panelName, listenFor, channelId) {\n        this.channelId = channelId;\n        this.panelName = panelName;\n        this.listenFor = listenFor;\n        this.interval = null;\n        this.queue = [];\n        this.ws = new W3CWebSocket(wsAddress);\n    }\n\n    connect = () => {}\n\n    disconnect = () => {\n        clearInterval(this.interval);\n        this.ws.onmessage = () => {};\n        this.ws.onclose = () => {};\n        this.ws.onerror = () => {};\n        this.ws.close();\n    }\n\n    next = () => {\n        if (this.queue.length <= 0) {\n            return null;\n        }\n\n        let event = this.queue[0];\n        this.queue = this.queue.slice(1);\n        return event;\n    }\n\n    hasNext = () => {\n        if (this.queue.length <= 0) {\n            return false;\n        }\n\n        return true;\n    }\n}","import React from 'react';\nimport LocalWebSocket from '../ws/LocalWebSocket';\n\nconst fontSize = 32;\n\nclass DeathCounter extends React.Component {\n\tconstructor(props) {\n        super(props);\n        this.ws = null;\n        this.interval = null;\n        this.state = {\n            currentEvent: null,\n\t\t\tdeaths: 0,\n\t\t\ttextScale: 1\n        }\n    }\n\n    consumer = () => {\n        if (!this.ws.hasNext()) {\n            return;\n        }\n\n        let currentEvent = this.ws.next();\n        this.onDeath(currentEvent.eventData.count);\n    }\n\n\tcomponentDidMount() {\n\t\tthis.ws = new LocalWebSocket('ws://localhost:8081', 'DEATH_COUNTER', ['DEATH_COUNT']);\n\t\tthis.ws.connect();\n\t\t\n        document.addEventListener(\"contextmenu\", (e) => {this.onReset(e)});\n        setInterval(this.consumer, 0);\n\t}\n\n\tcomponentWillUnmount() {\n        document.removeEventListener(\"contextmenu\", (e) => {this.onReset(e)});\n\t\tthis.ws.disconnect();\n\t}\n\n\tonDeath = (count = null) => {\n\t\tthis.setState((prevState) => {\n\t\t\treturn {\n\t\t\t\tdeaths: count !== -1 ? count : prevState.deaths + 1,\n\t\t\t\ttextScale: 1\n\t\t\t}\n\t\t});\n\n\t\tlet direction = 1;\n\n\t\tlet interval = setInterval(() => {\n\t\t\t//If scaling up\n\t\t\tif (this.state.textScale <= 2 && direction > 0) {\n\t\t\t\tthis.setState((prevState) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttextScale: Math.min(prevState.textScale + 0.1, 2)\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// If scaling down\n\t\t\tif (this.state.textScale >= 1 && direction < 0) {\n\t\t\t\tthis.setState((prevState) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttextScale: Math.max(prevState.textScale - 0.1, 1)\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// If done animating up\n\t\t\tif (this.state.textScale >= 2 && direction > 0) {\n\t\t\t\tdirection = -1;\n\t\t\t}\n\n\t\t\t// If done animating down\n\t\t\tif (this.state.textScale <= 1 && direction < 0) {\n\t\t\t\tclearInterval(interval);\n\t\t\t}\n\t\t}, 10);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div style={{height: \"100vh\", width: \"100vw\", userSelect: \"none\"}} className=\"App\">\n\t\t\t\t<span style={{fontWeight: \"bolder\", fontSize: `${this.state.textScale * fontSize}pt`, WebkitTextStroke: \"2px black\", WebkitTextFillColor: \"white\", lineHeight: \"100vh\", height: \"100vh\"}}>Deaths: {this.state.deaths}</span>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default DeathCounter;\n","import React from 'react';\nimport LocalWebSocket from '../ws/LocalWebSocket';\n\nclass RequestQueue extends React.Component {\n    constructor(props) {\n        super(props);\n        this.ws = null;\n        this.interval = null;\n        this.state = {\n            mode: \"NEXT_UP\",\n            requestList: []\n        }\n    }\n\n    consumer = () => {\n        if (!this.ws.hasNext()) {\n            return;\n        }\n\n        let currentEvent = this.ws.next();\n        this.setState({requestList: currentEvent.eventData.requestList});\n    }\n\n\tcomponentDidMount() {\n        this.ws = new LocalWebSocket('ws://localhost:8081', 'REQUESTS', ['REQUEST']);\n        this.ws.connect();\n\n        setInterval(this.consumer, 5000);\n\n        // Cycle between next up view and queue view\n        setInterval(() => {\n            this.showQueue();\n        }, 1000 * 60);\n\t}\n\n    componentWillUnmount() {\n        this.ws.disconnect();\n    }\n\n    showQueue = () => {\n        this.setState({mode: \"QUEUE\"});\n        setTimeout(() => {\n            this.setState({mode: \"NEXT_UP\"})\n        }, 1000 * 10);\n    }\n\n\trender() {\n\t\treturn (\n\t\t\t<div style={{height: \"100vh\", width: \"100vw\", userSelect: \"none\", position: \"relative\"}} className=\"App\">\n                    <div style={{width: \"100vw\", position: \"absolute\", bottom: \"0px\", left: \"0px\", textAlign: \"center\", fontSize: \"20pt\", WebkitTextStroke: \"1px black\", WebkitTextFillColor: \"white\"}} onClick={this.showQueue}>\n                        {this.state.requestList.length > 0 ? <marquee>Next up: {this.state.requestList[this.state.requestList.length - 1].request} from {this.state.requestList[this.state.requestList.length - 1].requester}</marquee>\n                        :\n                        <marquee>No requests so far.  Make a request by donating!</marquee>}\n                    </div>\n                    <div style={{width: \"100vw\", position: \"absolute\", bottom: \"0px\", left: \"0px\", textAlign: \"center\"}}>\n                        <div className={this.state.mode === \"QUEUE\" ? \"open\" : \"closed\"} style={{maxWidth: \"50%\", margin: \"auto\", padding: \"0px 5px\", backgroundColor: \"gray\", color: \"white\"}}>\n                            <strong>Coming up:</strong>\n                            {this.state.requestList.slice().reverse().slice(0, 3).map((request, index) => {\n                                return (\n                                    <div key={`entry-${index}`} style={{color: index === 0 ? \"yellow\" : \"white\"}}>\n                                        {index + 1}: {request.request} from {request.requester}\n                                    </div>\n                                )\n                            })}\n                        </div>\n                    </div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default RequestQueue;\n","import React from 'react';\nimport { w3cwebsocket as W3CWebSocket } from \"websocket\";\n\nlet urlParams = new URLSearchParams(window.location.search);\n\nconst RED_THRESH   = 177;\nconst GREEN_THRESH = 177;\nconst BLUE_THRESH  = 177;\n\nexport default class BadApple extends React.Component {\n    constructor(props) {\n        super(props);\n        this.videoElement = React.createRef();\n        this.canvasElement1 = React.createRef();\n        this.canvasElement2 = React.createRef();\n        this.ctx1 = null;\n        this.ctx2 = null;\n\n        this.timeOut = null;\n\n        this.state = {\n            averageColor: {r: 0, g: 0, b: 0},\n            vh: Math.max(document.documentElement.clientHeight || 0, window.innerHeight || 0),\n            vw: Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0)\n        }\n    }\n\n    // connect = async () => {\n    //     const ws = new W3CWebSocket('wss://deusprogrammer.com/api/ws/twitch');\n\n    //     ws.onopen = () => {\n    //         ws.send(JSON.stringify({\n    //             type: \"REGISTER_PANEL\",\n    //             from: \"PANEL\",\n    //             channelId: urlParams.get(\"channelId\")\n    //         }));\n\n    //         setInterval(() => {\n    //             ws.send(JSON.stringify({\n    //                 type: \"PING_SERVER\",\n    //                 from: \"PANEL\",\n    //                 channelId: urlParams.get(\"channelId\")\n    //             }));\n    //         }, 20 * 1000);\n    //     };\n\n    //     ws.onmessage = async (message) => {\n    //         let event = JSON.parse(message.data);\n            \n\t// \t\tif (event.type === \"BADAPPLE\") {\n\t// \t\t\tthis.videoElement.current.play();\n\t// \t\t}\n    //     };\n\n    //     ws.onclose = async (e) => {\n    //         console.log('Socket is closed. Reconnect will be attempted in 5 second.', e.reason);\n    //         this.setState({ mobs: [] });\n    //         setTimeout(async () => {\n    //             this.connect();\n    //         }, 5000);\n    //     };\n\n    //     ws.onerror = async (err) => {\n    //         console.error('Socket encountered error: ', err.message, 'Closing socket');\n    //         ws.close();\n    //     };\n    // }\n\n    componentDidMount() {\n        // // If a channel id is supplied, connect the websocket for updates via bot commands\n\t\t// if (urlParams.get(\"channelId\")) {\n\t\t// \tthis.connect();\n\t\t// }\n\n        this.videoElement.current.addEventListener(\"ended\", () => {\n            if (this.timeOut) {\n                clearTimeout(this.timeOut);\n            }\n            this.props.onComplete(\"badapple\");\n        })\n\n        this.ctx1 = this.canvasElement1.current.getContext('2d');\n        this.ctx2 = this.canvasElement2.current.getContext('2d');\n    \n        this.videoElement.current.addEventListener('play', () => {\n            this.timerCallback();\n        }, false);\n\n        window.onresize = () => {\n            this.setState({\n                vh: Math.max(document.documentElement.clientHeight || 0, window.innerHeight || 0),\n                vw: Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0)\n            })\n        };\n\n        this.videoElement.current.play();\n    }\n\n    timerCallback = () => {\n        if ((this.videoElement && this.videoElement.current) && (this.videoElement.current.paused || this.videoElement.current.ended)) {\n            return;\n        }\n        this.computeFrame();\n        this.timeOut = setTimeout(() => {\n            this.timerCallback();\n        }, 0);\n    };\n\n    computeFrame = () => {\n        if (!this.videoElement.current) {\n            return;\n        }\n        this.ctx1.drawImage(this.videoElement.current, 0, 0, this.state.vw, this.state.vh);\n        const frame = this.ctx1.getImageData(0, 0, this.state.vw, this.state.vh);\n        const length = frame.data.length;\n\n        for (let i = 0; i < length; i += 4) {\n            const red = frame.data[i + 0];\n            const green = frame.data[i + 1];\n            const blue = frame.data[i + 2];\n\n            if (green <= GREEN_THRESH && red <= RED_THRESH && blue <= BLUE_THRESH) {\n                frame.data[i + 3] = 0;\n            }\n        }\n        this.ctx2.putImageData(frame, 0, 0);\n    };\n    \n    render() {\n        return (\n            <div \n                style={{overflow: 'hidden'}}>\n                <video\n                    style={{display: \"none\"}}\n                    src={`${process.env.PUBLIC_URL}/videos/badapple.mp4`} \n                    controls={false}\n                    crossOrigin=\"anonymous\"\n                    ref={this.videoElement} />\n                <canvas height={this.state.vh} width={this.state.vw} style={{display: \"none\"}} ref={this.canvasElement1} />\n                <canvas height={this.state.vh} width={this.state.vw} style={{border: \"1px solid black\"}} ref={this.canvasElement2} />\n            </div>\n        )\n    }\n}","import React from 'react';\nimport { w3cwebsocket as W3CWebSocket } from \"websocket\";\n\nlet urlParams = new URLSearchParams(window.location.search);\n\nclass BirdUp extends React.Component {\n\t\n    constructor() {\n        super();\n\n        this.playing = false;\n\n        this.textRef = React.createRef();\n        this.imageRef1 = React.createRef();\n        this.imageRef2 = React.createRef();\n        this.imageRef3 = React.createRef();\n        this.imageRef4 = React.createRef();\n        this.imageRef5 = React.createRef();\n        this.imageRef6 = React.createRef();\n\n        this.stages = [this.textRef, this.imageRef1, this.imageRef2, this.imageRef3, this.imageRef4, this.imageRef5, this.imageRef6];\n        this.birdQueue = [];\n\n        this.state = {\n        }\n    }\n\n\tcomponentDidMount() {\n        this.birdup();\n\t}\n\n\tbirdup = async () => {\n        this.stages[0].current.style.display = \"block\";\n        let audio = new Audio(`${process.env.PUBLIC_URL}/sounds/birdup.mp3`);\n        await audio.play();\n\n        let stage = 1;\n        let interval = setInterval(() => {\n            if (stage >= this.stages.length) {\n                clearInterval(interval);\n                setTimeout(() => {\n                    for (let s of this.stages) {\n                        s.current.style.display = \"none\";\n                    }\n\n                    // Delay start of next queue element by at least 5 seconds\n                    setTimeout(() => {\n                        this.playing = false;\n                        this.props.onComplete(\"birdup\");\n                    }, 5000);\n                }, 2000);\n                return;\n            }\n\n            this.stages[stage++].current.style.display = \"block\";\n        }, 300);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div style={{height: \"100vh\", width: \"100vw\", userSelect: \"none\", position: \"relative\"}} className=\"App\">\n                <img  alt=\"birdup\" style={{position: \"absolute\", fontSize: \"20px\", right: \"0px\", bottom: \"0px\", height: \"20%\", zIndex: \"101\", display: \"none\"}} ref={this.imageRef1} src={`${process.env.PUBLIC_URL}/images/birdup.png`} />\n                <img  alt=\"birdup\" style={{position: \"absolute\", fontSize: \"20px\", right: \"0px\", bottom: \"0px\", height: \"40%\", zIndex: \"102\", display: \"none\"}} ref={this.imageRef2} src={`${process.env.PUBLIC_URL}/images//birdup.png`} />\n                <img  alt=\"birdup\" style={{position: \"absolute\", fontSize: \"20px\", right: \"0px\", bottom: \"0px\", height: \"60%\", zIndex: \"103\", display: \"none\"}} ref={this.imageRef3} src={`${process.env.PUBLIC_URL}/images//birdup.png`} />\n                <img  alt=\"birdup\" style={{position: \"absolute\", fontSize: \"20px\", right: \"0px\", bottom: \"0px\", height: \"80%\", zIndex: \"104\", display: \"none\"}} ref={this.imageRef4} src={`${process.env.PUBLIC_URL}/images//birdup.png`} />\n                <img  alt=\"birdup\" style={{position: \"absolute\", fontSize: \"20px\", right: \"0px\", bottom: \"0px\", height: \"100%\", zIndex: \"105\", display: \"none\"}} ref={this.imageRef5} src={`${process.env.PUBLIC_URL}/images//birdup.png`} />\n                <img  alt=\"birdup\" style={{position: \"absolute\", fontSize: \"20px\", right: \"0px\", bottom: \"0px\", height: \"120%\", zIndex: \"106\", display: \"none\"}} ref={this.imageRef6} src={`${process.env.PUBLIC_URL}/images//birdup.png`} />\n                <div  style={{position: \"absolute\", fontFamily: \"Cooper Black\", WebkitTextStroke: \"5px black\", WebkitTextFillColor: \"#CE01E2\", bottom: \"0px\", left: \"50%\", transform: \"translate(-50%, -50%)\", fontSize: \"70pt\",  zIndex: \"200\", display: \"none\"}} ref={this.textRef}>BIRD UP!</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default BirdUp;","import React, {useState, useEffect} from 'react';\nimport Phaser from 'phaser';\n\nlet RaidAlert = (props) => {\n    let ground, waterGroup;\n\n    let isHurt = false;\n    let isDying = false;\n    let timeout = null;\n    let text;\n    let scaleDirection = 1;\n\n    let scaleDimensions = {w: 1440, h: 820};\n\n    function preload() {\n        const slimeImage = process.env.PUBLIC_URL + '/images/slime-sprite.png';\n        const linkImage = process.env.PUBLIC_URL + '/images/link.png';\n\n        const groundImage = process.env.PUBLIC_URL + '/images/ground.png';\n        const waterImage = process.env.PUBLIC_URL + '/images/water.png';\n\n        const bgmSound = process.env.PUBLIC_URL + '/sounds/bgm.mp3';\n        const battleSound = process.env.PUBLIC_URL + '/sounds/battle.wav';\n        const hurtSound = process.env.PUBLIC_URL + '/sounds/hurt.wav';\n        const dieSound = process.env.PUBLIC_URL + '/sounds/die.wav';\n        const fanfareSound = process.env.PUBLIC_URL + '/sounds/fanfare.wav';;\n\n        this.load.image('ground', groundImage);\n        this.load.image('water', waterImage);\n\n        this.load.spritesheet('slime', \n            slimeImage,\n            { frameWidth: 80, frameHeight: 80 }\n        );\n        this.load.spritesheet('link', \n            linkImage,\n            { frameWidth: 80, frameHeight: 160 }\n        );\n\n        this.load.audio('bgm', [bgmSound]);\n        this.load.audio('battle', [battleSound]);\n        this.load.audio('hurt', [hurtSound]);\n        this.load.audio('die', [dieSound]);\n        this.load.audio('fanfare', [fanfareSound]);\n    }\n\n    function create() {\n        const variable = props.variable;\n        const scale = this.game.scale.width/scaleDimensions.w;\n        const groundWidth = this.textures.get('ground').getSourceImage().width * scale;\n        const groundHeight = this.textures.get('ground').getSourceImage().height * scale;\n        const waterWidth = this.textures.get('water').getSourceImage().width * scale;\n        const groundHeights = [(Math.random() * 100 + 200) * scale, (Math.random() * 100 + 200) * scale];\n\n        ground = this.physics.add.staticGroup();\n        waterGroup = this.physics.add.staticGroup();\n        this.anims.create({\n            key: 'wobble',\n            frames: this.anims.generateFrameNumbers('slime', { start: 0, end: 2 }),\n            frameRate: 10,\n            repeat: -1\n        });\n\n        this.anims.create({\n            key: 'idle',\n            frames: this.anims.generateFrameNumbers('link', { start: 0, end: 0 }),\n            frameRate: 10,\n            repeat: -1\n        });\n\n        this.anims.create({\n            key: 'hurt',\n            frames: this.anims.generateFrameNumbers('link', { start: 1, end: 1 }),\n            frameRate: 10,\n            repeat: -1\n        });\n\n        let bgm = this.sound.add('bgm', {loop: true, volume: 0.25});\n        let battle = this.sound.add('battle', {loop: false});\n        let hurt = this.sound.add('hurt', {loop: false, volume: 3});\n        let die = this.sound.add('die', {loop: false});\n        let fanfare = this.sound.add('fanfare', {loop: false, volume: 1});\n        die.once('complete', () => {\n            this.scene.stop();\n            this.sys.game.destroy(true);\n            clearTimeout(timeout);\n            props.onComplete();\n        });\n        fanfare.once('complete', () => {\n            this.scene.stop();\n            this.sys.game.destroy(true);\n            clearTimeout(timeout);\n            props.onComplete();\n        })\n\n        battle.play();\n        bgm.play();\n\n        // Draw Link\n        const linkY = this.game.scale.height - (groundHeight - groundHeights[1]);\n        let link = this.physics.add.sprite(groundWidth + 200, linkY, 'link');\n        link.setOrigin(0, 1);\n        link.setBounce(0.5);\n        link.setScale(scale);\n        link.setGravityY(300);\n        link.refreshBody();\n        link.body.setCollideWorldBounds(true);\n        link.anims.play('idle', true);\n        this.physics.add.collider(link, ground);\n\n        // Draw slimes\n        for (let i = 0; i < variable; i++) {\n            let slime = this.physics.add.sprite(-i * .5, (Math.random() * (this.game.scale.height - 100)) - (groundHeight - groundHeights[0]), 'slime');\n            slime.setScale(scale);\n            slime.setBounce(Math.min(1, Math.random() + 0.5));\n            slime.body.setGravity(400);\n            slime.anims.play('wobble', true);\n            slime.setVelocityX(Math.random() * 300);\n            this.physics.add.collider(slime, ground);\n            this.physics.add.overlap(link, slime, () => {\n                if (!isHurt) {\n                    isHurt = true;\n                    hurt.play();\n                }\n                link.play('hurt');\n                link.setVelocity(500, -50);\n                link.body.useDamping = true;\n                link.setDrag(0.99);\n            }, null, this);\n            this.physics.add.overlap(link, waterGroup, () => {\n                if (!isDying) {\n                    isDying = true;\n                    die.play();\n                }\n                bgm.stop();\n                link.play('hurt');\n                link.setVelocity(0, 50);\n            }, null, this);\n        }\n\n        // Draw water\n        let waterX = 0;\n        while (waterX < this.game.scale.width) {\n            let water = waterGroup.create(0, 0, \"water\");\n            water.setScale(scale);\n            water.setOrigin(0, 1);\n            water.x = waterX;\n            water.y = this.game.scale.height + 100;\n            water.refreshBody();\n            waterX += (waterWidth);\n        }\n\n        // Draw ground\n        for (let i = 0; i < 2; i++) {\n            let x = i * ((groundWidth) + 200);\n            let height = groundHeights[i];\n            let g1 = ground.create(x, this.game.scale.height + height, 'ground');\n            g1.setOrigin(0, 1);\n            g1.setScale(scale);\n            g1.refreshBody();\n        }\n\n        // Set timeout\n        timeout = setTimeout(() => {\n            bgm.stop();\n            fanfare.play();\n        }, 10000);\n    }\n\n    function update() {\n    }\n\n    const start = () => {\n        const config = {\n            type: Phaser.AUTO,\n            width: \"100vw\",\n            height: \"100vh\",\n            transparent: true,\n            parent: \"phaser\",\n            scene: {\n                preload,\n                create,\n                update\n            }, \n            physics: {\n                default: 'arcade',\n                arcade: {\n                    gravity: { y: 200 }\n                }\n            },\n        };\n\n        new Phaser.Game(config);\n    }\n\n    useEffect(() => {\n        start();\n    }, []);\n\n    return (\n        <div>\n            <div id=\"phaser\" />\n        </div>\n    );\n}\n\nexport default RaidAlert;\n","import React, {useEffect} from 'react';\nimport Phaser from 'phaser';\n\nlet RaidAlert = (props) => {\n    let yoshiCount = 0;\n    let yoshis = [];\n    let timeout = false;\n\n    let scaleDimensions = {w: 1440, h: 820};\n\n    function preload() {\n        const yoshiImage = process.env.PUBLIC_URL + '/images/yoshi/yoshi-walk.png';\n        const yoshiImageBlue = process.env.PUBLIC_URL + '/images/yoshi/yoshi-walk-blue.png';\n        const yoshiImagePurple = process.env.PUBLIC_URL + '/images/yoshi/yoshi-walk-purple.png';\n        const yoshiImagePink = process.env.PUBLIC_URL + '/images/yoshi/yoshi-walk-pink.png';\n        const yoshiImageBlack = process.env.PUBLIC_URL + '/images/yoshi/yoshi-walk-black.png';\n        const yoshiImageYellow = process.env.PUBLIC_URL + '/images/yoshi/yoshi-walk-yellow.png';\n\n        const fanfare = process.env.PUBLIC_URL + '/sounds/yoshi/yoshi-fanfare.mp3';\n        const badum = process.env.PUBLIC_URL + '/sounds/yoshi/yoshi-tongue.mp3';\n\n        const groundImage = process.env.PUBLIC_URL + '/images/ground.png';\n        const waterImage = process.env.PUBLIC_URL + '/images/water.png';\n\n        this.load.image('ground', groundImage);\n        this.load.image('water', waterImage);\n\n        this.load.spritesheet('yoshiGreen',\n            yoshiImage,\n            { frameWidth: 128, frameHeight: 128 }\n        );\n\n        this.load.spritesheet('yoshiBlue',\n            yoshiImageBlue,\n            { frameWidth: 128, frameHeight: 128 }\n        );\n\n        this.load.spritesheet('yoshiPurple',\n            yoshiImagePurple,\n            { frameWidth: 128, frameHeight: 128 }\n        );\n\n        this.load.spritesheet('yoshiPink',\n            yoshiImagePink,\n            { frameWidth: 128, frameHeight: 128 }\n        );\n\n        this.load.spritesheet('yoshiBlack',\n            yoshiImageBlack,\n            { frameWidth: 128, frameHeight: 128 }\n        );\n\n        this.load.spritesheet('yoshiYellow',\n            yoshiImageYellow,\n            { frameWidth: 128, frameHeight: 128 }\n        );\n\n        this.load.audio('fanfare', [fanfare]);\n        this.load.audio('badum', [badum]);\n    }\n\n    function create() {\n        const scale = this.game.scale.width/scaleDimensions.w;\n        const variable = props.variable;\n\n        this.anims.create({\n            key: 'walkGreen',\n            frames: this.anims.generateFrameNumbers('yoshiGreen', { start: 0, end: 9 }),\n            frameRate: 15,\n            repeat: -1\n        });\n\n        this.anims.create({\n            key: 'walkPurple',\n            frames: this.anims.generateFrameNumbers('yoshiPurple', { start: 0, end: 9 }),\n            frameRate: 15,\n            repeat: -1\n        });\n\n        this.anims.create({\n            key: 'walkPink',\n            frames: this.anims.generateFrameNumbers('yoshiPink', { start: 0, end: 9 }),\n            frameRate: 15,\n            repeat: -1\n        });\n\n        this.anims.create({\n            key: 'walkBlue',\n            frames: this.anims.generateFrameNumbers('yoshiBlue', { start: 0, end: 9 }),\n            frameRate: 15,\n            repeat: -1\n        });\n\n        this.anims.create({\n            key: 'walkBlack',\n            frames: this.anims.generateFrameNumbers('yoshiBlack', { start: 0, end: 9 }),\n            frameRate: 15,\n            repeat: -1\n        });\n\n        this.anims.create({\n            key: 'walkYellow',\n            frames: this.anims.generateFrameNumbers('yoshiYellow', { start: 0, end: 9 }),\n            frameRate: 15,\n            repeat: -1\n        });\n\n        let fanfare = this.sound.add('fanfare', {loop: true, volume: 1});\n        let badum = this.sound.add('badum', {loop: false, volume: 1});\n\n        let speed = Math.ceil((Math.log2(variable) + 1) * 100);\n        let spacing = Math.ceil(5000/variable);\n\n        let colors = [\"Green\", \"Purple\", \"Blue\", \"Pink\", \"Yellow\", \"Black\"];\n\n        let wall = this.physics.add.sprite(this.game.scale.width + 256, 0, 'ground');\n        wall.setOrigin(0, 0);\n        wall.displayHeight = this.game.scale.height;\n\n        yoshiCount = variable;\n\n        fanfare.play();\n\n        // Draw yoshis\n        for (let i = 0; i < variable; i++) {\n            let color = colors[Math.floor(Math.random() * colors.length)];\n            let yoshi = this.physics.add.sprite(-i * spacing, Math.random() * this.game.scale.height, `yoshi${color}`);\n            yoshi.setScale(scale);\n            yoshi.body.setGravity(0);\n            yoshi.anims.play(`walk${color}`, true);\n            yoshi.setVelocityX(speed);\n            yoshis.push(yoshi);\n\n            this.physics.add.overlap(yoshi, wall, () => {\n                badum.play();\n                yoshi.destroy();\n                yoshiCount--;\n            }, null, this);\n        }\n\n        setTimeout(() => {\n            timeout = true;\n        }, 15000);\n    }\n\n    function update() {\n        if (yoshiCount <= 0 && timeout) {\n            this.scene.stop();\n            this.sys.game.destroy(true);\n            \n            if (props.onComplete) {\n                props.onComplete();\n            }\n        }\n    }\n\n    const start = () => {\n        const config = {\n            type: Phaser.AUTO,\n            width: \"100vw\",\n            height: \"100vh\",\n            transparent: true,\n            parent: \"phaser\",\n            scene: {\n                preload,\n                create,\n                update\n            }, \n            physics: {\n                default: 'arcade',\n                arcade: {\n                    gravity: { y: 0 }\n                }\n            },\n        };\n\n        new Phaser.Game(config);\n    }\n\n    useEffect(() => {\n        start();\n    }, []);\n\n    return (\n        <div>\n            <div id=\"phaser\" />\n        </div>\n    );\n}\n\nexport default RaidAlert;","import React, {useEffect} from 'react';\nimport Phaser from 'phaser';\n\nlet RaidAlert = (props) => {\n    let spriteCount = 0;\n    let timeout = false;\n\n    let scaleDimensions = {w: 1440, h: 820};\n\n    function preload() {\n        const groundImage = process.env.PUBLIC_URL + '/images/ground.png';\n        this.load.image('ground', groundImage);\n\n        props.config.sprites.forEach((sprite, index) => {\n            this.load.spritesheet(`sprite${index}`,\n                sprite.file,\n                { frameWidth: sprite.frameWidth, frameHeight: sprite.frameHeight }\n            );\n        });\n\n        this.load.audio('music', [props.config.music.file]);\n        this.load.audio('leaving', [props.config.leavingSound.file]);\n    }\n\n    function create() {\n        const scale = this.game.scale.width/scaleDimensions.w;\n        const variable = props.variable;\n\n        props.config.sprites.forEach((sprite, index) => {\n            this.anims.create({\n                key: `animation${index}`,\n                frames: this.anims.generateFrameNumbers(`sprite${index}`, { start: sprite.startFrame, end: sprite.endFrame }),\n                frameRate: sprite.frameRate,\n                repeat: -1\n            });\n        });\n\n        let music = this.sound.add('music', {loop: true, volume: props.config.music.volume});\n        let leavingSound = this.sound.add('leaving', {loop: false, volume: props.config.leavingSound.volume});\n\n        let speed = (Math.ceil(Math.log2(variable) + 1) * 100);\n        let spacing = Math.ceil(5000/variable);\n\n        let wall = this.physics.add.sprite(this.game.scale.width + 256, 0, 'ground');\n        wall.setOrigin(0, 0);\n        wall.displayHeight = this.game.scale.height;\n\n        spriteCount = variable;\n\n        music.play();\n\n        // Draw yoshis\n        for (let i = 0; i < variable; i++) {\n            let r = Math.floor(Math.random() * props.config.sprites.length);\n            let sprite = this.physics.add.sprite(-i * spacing, Math.random() * this.game.scale.height, `sprite${r}`);\n            sprite.setScale(scale);\n            sprite.body.setGravity(0);\n            sprite.anims.play(`animation${r}`, true);\n            sprite.setVelocityX(speed);\n\n            this.physics.add.overlap(sprite, wall, () => {\n                leavingSound.play();\n                sprite.destroy();\n                spriteCount--;\n            }, null, this);\n        }\n\n        setTimeout(() => {\n            timeout = true;\n        }, 15000);\n    }\n\n    function update() {\n        if (spriteCount <= 0 && timeout) {\n            this.scene.stop();\n            this.sys.game.destroy(true);\n            \n            if (props.onComplete) {\n                props.onComplete();\n            }\n        }\n    }\n\n    const start = () => {\n        const config = {\n            type: Phaser.AUTO,\n            width: \"100vw\",\n            height: \"100vh\",\n            transparent: true,\n            parent: \"phaser\",\n            scene: {\n                preload,\n                create,\n                update\n            }, \n            physics: {\n                default: 'arcade',\n                arcade: {\n                    gravity: { y: 0 }\n                }\n            },\n        };\n\n        new Phaser.Game(config);\n    }\n\n    useEffect(() => {\n        start();\n    }, []);\n\n    return (\n        <div>\n            <div id=\"phaser\" />\n        </div>\n    );\n}\n\nexport default RaidAlert;","import React from 'react';\n\nconst RANDOM_VIDEO_COUNT = 7;\n\nexport default class RandomCustomVideo extends React.Component {\n    constructor(props) {\n        super(props);\n        this.videoElement = React.createRef();\n        this.canvasElement1 = React.createRef();\n        this.canvasElement2 = React.createRef();\n        this.ctx1 = null;\n        this.ctx2 = null;\n\n        this.timeOut = null;\n\n        this.state = {\n            averageColor: {r: 0, g: 0, b: 0},\n            vh: Math.max(document.documentElement.clientHeight || 0, window.innerHeight || 0),\n            vw: Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0)\n        }\n    }\n\n    componentDidMount() {\n        this.videoElement.current.addEventListener(\"ended\", () => {\n            if (this.timeOut) {\n                clearTimeout(this.timeOut);\n            }\n            this.props.onComplete(\"randomcustomvideo\");\n        })\n\n        this.ctx1 = this.canvasElement1.current.getContext('2d');\n        this.ctx2 = this.canvasElement2.current.getContext('2d');\n    \n        this.videoElement.current.addEventListener('play', () => {\n            this.timerCallback();\n        }, false);\n\n        window.onresize = () => {\n            this.setState({\n                vh: Math.max(document.documentElement.clientHeight || 0, window.innerHeight || 0),\n                vw: Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0)\n            })\n        };\n\n        this.videoElement.current.volume = this.props.volume;\n        this.videoElement.current.play();\n    }\n\n    timerCallback = () => {\n        if ((this.videoElement && this.videoElement.current) && (this.videoElement.current.paused || this.videoElement.current.ended)) {\n            return;\n        }\n        this.computeFrame();\n        this.timeOut = setTimeout(() => {\n            this.timerCallback();\n        }, 0);\n    };\n\n    computeFrame = () => {\n        if (!this.videoElement.current) {\n            return;\n        }\n        this.ctx1.drawImage(this.videoElement.current, 0, 0, this.state.vw, this.state.vh);\n        const frame = this.ctx1.getImageData(0, 0, this.state.vw, this.state.vh);\n        const length = frame.data.length;\n\n        for (let i = 0; i < length; i += 4) {\n            const red = frame.data[i + 0];\n            const green = frame.data[i + 1];\n            const blue = frame.data[i + 2];\n\n            if (this.props.chromaKey === \"green\") {\n                if (green > red + blue) {\n                    frame.data[i + 3] = 0;\n                }\n            } else if (this.props.chromaKey === \"red\") {\n                if (red > green + blue) {\n                    frame.data[i + 3] = 0;\n                }\n            } else if (this.props.chromaKey === \"blue\") {\n                if (blue > red + green) {\n                    frame.data[i + 3] = 0;\n                }\n            }\n        }\n        this.ctx2.putImageData(frame, 0, 0);\n    };\n    \n    render() {\n        let n = Math.ceil((Math.random() * RANDOM_VIDEO_COUNT));\n\n        return (\n            <div \n                style={{overflow: 'hidden'}}>\n                <video\n                    style={{display: \"none\"}}\n                    src={this.props.url} \n                    controls={false}\n                    crossOrigin=\"anonymous\"\n                    ref={this.videoElement} />\n                <canvas height={this.state.vh} width={this.state.vw} style={{display: \"none\"}} ref={this.canvasElement1} />\n                <canvas height={this.state.vh} width={this.state.vw} style={{border: \"1px solid black\"}} ref={this.canvasElement2} />\n            </div>\n        )\n    }\n}","import React from 'react';\n\nimport BadApple from './BadApple';\nimport BirdUp from './BirdUp';\nimport ZeldaRaidAlert from './ZeldaRaidAlert';\nimport YoshiRaidAlert from './YoshiRaidAlert';\nimport ChargeRaidAlert from './ChargeRaidAlert';\nimport VideoPlayer from './VideoPlayer';\n\nimport LocalWebSocket from '../../ws/LocalWebSocket';\n\nexport default class TwitchMultiOverlay extends React.Component {\n    constructor(props) {\n        super(props);\n        this.ws = null;\n        this.interval = null;\n        this.state = {\n            currentEvent: null\n        }\n    }\n\n    consumer = () => {\n        if (!this.ws.hasNext() || this.state.currentEvent) {\n            console.log(`SKIPPING: ${this.ws.hasNext()} || ${this.state.currentEvent}`);\n            return;\n        }\n\n        console.log(\"EVENT\");\n\n        let currentEvent = this.ws.next();\n        this.setState({currentEvent});\n    }\n\n    reset = () => {\n        this.setState({currentEvent: null});\n    }\n\n    componentDidMount() {\n        this.ws = new LocalWebSocket('ws://localhost:8081', 'MULTI', ['BIRDUP', 'BADAPPLE', 'VIDEO', 'DYNAMIC']);\n        this.ws.connect();\n\n        setInterval(this.consumer, 5000);\n    }\n\n    componentWillUnmount() {\n\t\tthis.ws.disconnect();\n\t}\n\n    render() {\n        let showComponent = null;\n\n        console.log(JSON.stringify(this.state.currentEvent, null, 5));\n\n        if (!this.state.currentEvent) {\n            return (<div></div>)\n        }\n\n        switch(this.state.currentEvent.type) {\n            case \"BADAPPLE\":\n                showComponent = <BadApple \n                                    onComplete={this.reset}\n                                    requester={this.state.currentEvent.eventData.requester} />;\n                break;\n            case \"BIRDUP\":\n                showComponent = <BirdUp \n                                    onComplete={this.reset}\n                                    message={this.state.currentEvent.eventData.message}\n                                    requester={this.state.currentEvent.eventData.requester} />;\n                break;\n            case \"VIDEO\":\n                showComponent = <VideoPlayer \n                                    onComplete={this.reset} \n                                    message={this.state.currentEvent.eventData.message}\n                                    requester={this.state.currentEvent.eventData.requester}\n                                    url={this.state.currentEvent.eventData.url} \n                                    mediaName={this.state.currentEvent.eventData.mediaName}\n                                    volume={this.state.currentEvent.eventData.volume}\n                                    chromaKey={this.state.currentEvent.eventData.chromaKey} />;\n                break;\n            case \"DYNAMIC\":\n                if (this.state.currentEvent.eventData.raidTheme === \"YOSHI\") {\n                    showComponent = <YoshiRaidAlert \n                                        onComplete={this.reset}\n                                        message={this.state.currentEvent.eventData.message}\n                                        variable={this.state.currentEvent.eventData.variable} />;\n                } else if (this.state.currentEvent.eventData.raidTheme === \"ZELDA2\") {\n                    showComponent = <ZeldaRaidAlert \n                                        onComplete={this.reset}\n                                        message={this.state.currentEvent.eventData.message}\n                                        variable={this.state.currentEvent.eventData.variable} />;\n                } else if (this.state.currentEvent.eventData.raidTheme === \"STORED\") {\n                    showComponent = <ChargeRaidAlert \n                                        onComplete={this.reset}\n                                        message={this.state.currentEvent.eventData.message}\n                                        variable={this.state.currentEvent.eventData.variable}\n                                        config={this.state.currentEvent.eventData.raidCustomTheme} />;\n                }\n                break;\n            case \"DEFAULT\":\n                this.reset();\n        }\n\n        return (\n            <div>\n                <div className=\"multContainer\">\n                    {showComponent}\n                    <span className=\"alert-text\">{this.state.currentEvent.eventData.message}</span>\n                </div>\n            </div>\n        )\n    }\n}","import React from 'react';\nimport LocalWebSocket from '../ws/LocalWebSocket';\n\nclass SoundPlayer extends React.Component {\n    constructor(props) {\n        super(props);\n        this.ws = null;\n        this.consumerLocked = false;\n        this.state = {\n            soundPlaying: false,\n            requester: null,\n            mediaName: null\n        }\n    }\n\n    consumer = async () => {\n        if (!this.ws.hasNext() || this.consumerLocked) {\n            return;\n        }\n\n        let currentEvent = this.ws.next();\n        let {url, volume} = currentEvent.eventData;\n        this.consumerLocked = true;\n\n        let audio = new Audio(url);\n        this.setState({soundPlaying: true});\n        audio.addEventListener(\"ended\", () => {\n            this.setState({soundPlaying: false});\n            setTimeout(() => {\n                this.consumerLocked = false;\n            }, 5000);\n        });\n        audio.volume = volume;\n        await audio.play();\n    }\n\n    componentDidMount() {\n        this.ws = new LocalWebSocket('ws://localhost:8081', 'SOUND_PLAYER', ['AUDIO']);\n        this.ws.connect();\n\n        setInterval(this.consumer, 5000);\n    }\n\n    componentWillUnmount() {\n\t\tthis.ws.disconnect();\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div style={{height: \"100vh\", width: \"100vw\", userSelect: \"none\"}} className=\"App\">\n                {this.state.soundPlaying ?\n                    <div> \n                        <img \n                            style={{\n                                position: \"absolute\",\n                                width: \"100px\",\n                                height: \"100px\",\n                                top: \"50%\",\n                                left: \"50%\",\n                                transform: \"translate(-50%, -50%)\"\n                            }} \n                            src={`${process.env.PUBLIC_URL}/images/speaker.png`} />\n                        <span style={{\n                            position: \"absolute\",\n                            top: \"50%\",\n                            left: \"50%\",\n                            transform: \"translate(-50%, -50%)\",\n                            fontSize: \"20pt\",\n                            WebkitTextStroke: \"1px black\",\n                            WebkitTextFillColor: \"white\"\n                        }}>\n                            {this.state.message}\n                        </span>\n                    </div>\n                : null  }\n            </div>\n\t\t);\n\t}\n}\n\nexport default SoundPlayer;\n","export const configs = {\n    YOSHI: {\n        message: 'Incoming raid from ${raider} with a party of ${raidSize}!',\n        sprites: [\n            {\n                file: process.env.PUBLIC_URL + '/images/yoshi/yoshi-walk.png',\n                startFrame: 0,\n                endFrame: 9,\n                frameWidth: 128,\n                frameHeight: 128,\n                frameRate: 15\n            },\n            {\n                file: process.env.PUBLIC_URL + '/images/yoshi/yoshi-walk-black.png',\n                startFrame: 0,\n                endFrame: 9,\n                frameWidth: 128,\n                frameHeight: 128,\n                frameRate: 15\n            },\n            {\n                file: process.env.PUBLIC_URL + '/images/yoshi/yoshi-walk-blue.png',\n                startFrame: 0,\n                endFrame: 9,\n                frameWidth: 128,\n                frameHeight: 128,\n                frameRate: 15\n            },\n            {\n                file: process.env.PUBLIC_URL + '/images/yoshi/yoshi-walk-pink.png',\n                startFrame: 0,\n                endFrame: 9,\n                frameWidth: 128,\n                frameHeight: 128,\n                frameRate: 15\n            },\n            {\n                file: process.env.PUBLIC_URL + '/images/yoshi/yoshi-walk-purple.png',\n                startFrame: 0,\n                endFrame: 9,\n                frameWidth: 128,\n                frameHeight: 128,\n                frameRate: 15\n            },\n            {\n                file: process.env.PUBLIC_URL + '/images/yoshi/yoshi-walk-yellow.png',\n                startFrame: 0,\n                endFrame: 9,\n                frameWidth: 128,\n                frameHeight: 128,\n                frameRate: 15\n            }\n        ],\n        music: {\n            file: process.env.PUBLIC_URL + '/sounds/yoshi/yoshi-fanfare.mp3',\n            volume: 1\n        },\n        leavingSound: {\n            file: process.env.PUBLIC_URL + '/sounds/yoshi/yoshi-tongue.mp3',\n            volume: 1\n        }\n    },\n    SKULLMAN: {\n        message: 'HOLY SHIT! ${raider} raided with a party of ${raidSize}!',\n        sprites: [\n            {\n                file: process.env.PUBLIC_URL + '/images/skullman/skullman-walk.png',\n                startFrame: 0,\n                endFrame: 9,\n                frameWidth: 99,\n                frameHeight: 128,\n                frameRate: 15\n            }\n        ],\n        music: {\n            file: process.env.PUBLIC_URL + '/sounds/skullman/battle.mp3',\n            volume: 1\n        },\n        leavingSound: {\n            file: process.env.PUBLIC_URL + '/sounds/skullman/ash-groovy.mp3',\n            volume: 3\n        }\n    },\n    CHAIR: {\n        message: 'CHEESE IT UP! ${raider} raided with a party of ${raidSize}!',\n        sprites: [\n            {\n                file: process.env.PUBLIC_URL + '/images/chair/cheesesteak-walk.png',\n                startFrame: 0,\n                endFrame: 5,\n                frameWidth: 128,\n                frameHeight: 128,\n                frameRate: 15\n            },\n            {\n                file: process.env.PUBLIC_URL + '/images/chair/yuu.png',\n                startFrame: 24,\n                endFrame: 29,\n                frameWidth: 128,\n                frameHeight: 128,\n                frameRate: 15\n            },\n            {\n                file: process.env.PUBLIC_URL + '/images/chair/tanako.png',\n                startFrame: 30,\n                endFrame: 41,\n                frameWidth: 128,\n                frameHeight: 128,\n                frameRate: 15\n            }\n        ],\n        music: {\n            file: process.env.PUBLIC_URL + '/sounds/chair/music.mp3',\n            volume: 1\n        },\n        leavingSound: {\n            file: process.env.PUBLIC_URL + '/sounds/chair/cheeseitup.wav',\n            volume: 1\n        }\n    }\n}","import React, {useEffect, useState} from 'react';\nimport YoshiRaidAlert from './multi/YoshiRaidAlert';\nimport ZeldaRaidAlert from './multi/ZeldaRaidAlert';\nimport ChargeRaidAlert from './multi/ChargeRaidAlert';\n\nimport {configs} from '../util/testData';\nimport axios from 'axios';\n\nconst getRaidAlert = async (id) => {\n    let found = await axios.get(`https://deusprogrammer.com/api/twitch/raid-configs/${id}`, {\n        headers: {\n            \"X-Access-Token\": localStorage.getItem(\"accessToken\")\n        }\n    });\n\n    return found.data;\n}\n\nconst RaidAlertTestHarness = () => {\n    const [clicked, setClicked] = useState(false);\n    const [raider, setRaider] = useState(\"daddyfartbux\");\n    const [raidSize, setRaidSize] = useState(100);\n    const [theme, setTheme] = useState(\"CUSTOM\");\n    const [key, setKey] = useState(\"SKULLMAN\");\n    const [storedConfig, setStoredConfig] = useState({});\n\n    useEffect(async () => {\n        // Get url params\n        const urlParams = new URLSearchParams(window.location.search);\n        const raidTheme = urlParams.get('theme');\n        const raidId = urlParams.get('key');\n        setRaider(urlParams.get('raider') ? urlParams.get('raider') : \"daddyfartbux\");\n        setRaidSize(urlParams.get('raidSize') ? urlParams.get('raidSize') : 10);\n        setTheme(urlParams.get('theme') ? urlParams.get('theme') : \"YOSHI\");\n        setKey(urlParams.get('key') ? urlParams.get('key') : \"SKULLMAN\");\n\n        if (raidTheme === \"STORED\") {\n            let config = await getRaidAlert(raidId);\n            setStoredConfig(config);\n        }\n    }, []);\n\n    let raidAlert = null;\n\n    switch(theme) {\n        case \"YOSHI\":\n            raidAlert = <YoshiRaidAlert \n                            raider={raider} \n                            raidSize={raidSize} \n                            onComplete={() => {setClicked(false)}} />;\n            break;\n        case \"ZELDA\":\n            raidAlert = <ZeldaRaidAlert \n                            raider={raider} \n                            raidSize={raidSize} \n                            onComplete={() => {setClicked(false)}} />;\n            break;\n        case \"CUSTOM\":\n            raidAlert = <ChargeRaidAlert \n                            raider={raider} \n                            raidSize={raidSize} \n                            config={configs[key]}\n                            onComplete={() => {setClicked(false)}} />;\n        case \"STORED\":\n            raidAlert = <ChargeRaidAlert \n                            raider={raider} \n                            raidSize={raidSize} \n                            config={storedConfig}\n                            onComplete={() => {setClicked(false)}} />;\n            break;\n    }\n\n    return (\n        <div>\n            {clicked ? \n                raidAlert\n             : \n                <div>\n                    <p>Testing with size <b>{raidSize}</b> and raider <b>{raider}</b></p>\n                    <button onClick={() => {\n                        setClicked(true);\n                    }}>Click to Test</button>\n                    <h3>Debug</h3>\n                    <pre>\n                        {JSON.stringify(storedConfig, null, 5)}\n                    </pre>\n                </div>\n            }\n        </div>\n    );\n}\n\nexport default RaidAlertTestHarness","import React from 'react';\nimport './App.css';\n\nimport {BrowserRouter as Router, Switch, Route} from 'react-router-dom';\nimport DeathCounter from './routes/DeathCounter';\nimport RequestQueue from './routes/RequestQueue';\nimport TwitchMultiOverlay from './routes/multi/TwitchMultiOverlay';\nimport SoundPlayer from './routes/SoundPlayer';\nimport RaidAlertTestHarness from './routes/RaidAlertTestHarness';\n\nclass App extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<Router>\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route path={`${process.env.PUBLIC_URL}/tools/raid-test`} component={RaidAlertTestHarness} exact />\n\t\t\t\t\t<Route path={`${process.env.PUBLIC_URL}/overlays/multi`} component={TwitchMultiOverlay} exact />\n\t\t\t\t\t<Route path={`${process.env.PUBLIC_URL}/overlays/death-counter`} component={DeathCounter} exact />\n\t\t\t\t\t<Route path={`${process.env.PUBLIC_URL}/overlays/sound-player`} component={SoundPlayer} exact />\n\t\t\t\t\t<Route path={`${process.env.PUBLIC_URL}/overlays/requests`} component={RequestQueue} exact />\n\t\t\t\t</Switch>\n\t\t\t</Router>\n\t\t);\n\t}\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nwindow.speechSynthesis.onvoiceschanged = () => {\n  window.maleVoice = window.speechSynthesis.getVoices().find((element) => {\n      return element.name === \"Microsoft David - English (United States)\";\n  });\n\n  window.femaleVoice = window.speechSynthesis.getVoices().find((element) => {\n      return element.name === \"Microsoft Zira - English (United States)\";\n  });\n\n  console.log(\"MAN:   \" + window.maleVoice);\n  console.log(\"WOMAN: \" + window.femaleVoice);\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}