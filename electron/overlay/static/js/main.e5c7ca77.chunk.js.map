{"version":3,"sources":["ws/AbstractWebSocket.js","ws/LocalWebSocket.js","ws/WebSocketFactory.js","routes/DeathCounter.jsx","routes/Home.jsx","routes/RequestQueue.jsx","routes/multi/BirdUp.jsx","routes/multi/ZeldaRaidAlert.jsx","routes/multi/ChargeRaidAlert.jsx","routes/multi/VideoPlayer.jsx","routes/multi/TwitchMultiOverlay.jsx","routes/SoundPlayer.jsx","routes/SpeechSynthesisTester.jsx","util/VideoTools.js","routes/WhatTheDubPlayer.jsx","routes/WhatTheDub.jsx","util/testData.js","routes/RaidAlertTestHarness.jsx","routes/TTS.jsx","routes/VideoTestHarness.jsx","App.js","reportWebVitals.js","index.js"],"names":["RemoteWebSocket","wsAddress","panelName","listenFor","channelId","connect","disconnect","clearInterval","interval","ws","onmessage","onclose","onerror","close","next","queue","length","event","slice","hasNext","this","W3CWebSocket","LocalWebSocket","onopen","send","JSON","stringify","type","from","name","setInterval","message","parse","data","includes","console","log","push","e","reason","setTimeout","err","error","AbstractWebSocket","createWebSocket","DeathCounter","props","consumer","currentEvent","onDeath","eventData","count","onReset","setState","deaths","textScale","preventDefault","prevState","direction","state","Math","min","max","urlParams","URLSearchParams","window","location","search","get","document","addEventListener","removeEventListener","style","height","width","userSelect","className","fontWeight","fontSize","WebkitTextStroke","WebkitTextFillColor","lineHeight","React","Component","useState","color","setColor","textAlign","margin","backgroundColor","to","process","value","onChange","target","RequestQueue","requestList","showQueue","mode","position","bottom","left","onClick","request","requester","maxWidth","padding","reverse","map","index","BirdUp","birdup","a","stages","current","display","audio","Audio","play","stage","playing","onComplete","textRef","createRef","imageRef1","imageRef2","imageRef3","imageRef4","imageRef5","imageRef6","birdQueue","alt","right","zIndex","ref","src","fontFamily","transform","RaidAlert","ground","waterGroup","isHurt","isDying","timeout","scaleDimensions","preload","load","image","spritesheet","frameWidth","frameHeight","create","variable","scale","game","groundWidth","textures","getSourceImage","groundHeight","waterWidth","groundHeights","random","physics","add","staticGroup","anims","key","frames","generateFrameNumbers","start","end","frameRate","repeat","bgm","sound","loop","volume","battle","hurt","die","fanfare","once","scene","stop","sys","destroy","clearTimeout","linkY","link","sprite","setOrigin","setBounce","setScale","setGravityY","refreshBody","body","setCollideWorldBounds","collider","i","slime","setGravity","setVelocityX","overlap","setVelocity","useDamping","setDrag","waterX","water","x","y","g1","update","useEffect","config","Phaser","AUTO","transparent","parent","default","arcade","gravity","Game","id","spriteCount","sprites","forEach","file","music","leavingSound","startFrame","endFrame","speed","ceil","log2","spacing","wall","displayHeight","r","floor","VideoPlayer","timerCallback","videoElement","paused","ended","computeFrame","timeOut","ctx1","drawImage","vw","vh","frame","getImageData","red","green","blue","chromaKey","lowerBound","upperBound","ctx2","putImageData","canvasElement1","canvasElement2","averageColor","g","b","documentElement","clientHeight","innerHeight","clientWidth","innerWidth","getContext","onresize","overflow","url","controls","crossOrigin","border","TwitchMultiOverlay","reset","showComponent","raidTheme","ZeldaRaidAlert","ChargeRaidAlert","raidCustomTheme","SoundPlayer","consumerLocked","soundPlaying","mediaName","top","SpeechSynthesisTester","SpeechSynthesisUtterance","speechSynthesis","msg","text","speak","speechTest","convertSecondsToAltTimestamp","seconds","m","s","ms","trunc","toString","padStart","createWebVttDataUri","subtitles","substitution","btoa","subtitle","startTime","endTime","join","convertSubtitlesToWebVtt","WhatTheDubPlayer","currentIndex","isTalking","hasEnded","muted","zombieInterval","pauseListener","voice","setIsTalking","maleVoice","femaleVoice","onend","getElementById","video","findIndex","currentTime","pause","currentSubtitle","setMuted","setCurrentIndex","updateSubtitle","onPlay","startListener","onPause","onEnded","label","kind","srcLang","WhatTheDub","entry","replace","joinedMiniGame","videoData","videoUrl","background","configs","YOSHI","SKULLMAN","CHAIR","getRaidAlert","axios","headers","localStorage","getItem","found","RaidAlertTestHarness","clicked","setClicked","raider","setRaider","raidSize","setRaidSize","theme","setTheme","setKey","storedConfig","setStoredConfig","raidId","raidAlert","TTS","textList","started","disabled","marginLeft","VideoTestHarness","setChromaKey","setLowerBound","setUpperBound","visible","setVisible","params","App","path","component","exact","Home","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","onvoiceschanged","getVoices","find","element","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.e5c7ca77.chunk.js","sourcesContent":["import { w3cwebsocket as W3CWebSocket } from \"websocket\";\n\nexport default class RemoteWebSocket {\n    constructor(wsAddress, panelName, listenFor, channelId) {\n        this.channelId = channelId;\n        this.panelName = panelName;\n        this.listenFor = listenFor;\n        this.interval = null;\n        this.queue = [];\n        this.ws = new W3CWebSocket(wsAddress);\n    }\n\n    connect = () => {}\n\n    disconnect = () => {\n        clearInterval(this.interval);\n        this.ws.onmessage = () => {};\n        this.ws.onclose = () => {};\n        this.ws.onerror = () => {};\n        this.ws.close();\n    }\n\n    next = () => {\n        if (this.queue.length <= 0) {\n            return null;\n        }\n\n        let event = this.queue[0];\n        this.queue = this.queue.slice(1);\n        return event;\n    }\n\n    hasNext = () => {\n        if (this.queue.length <= 0) {\n            return false;\n        }\n\n        return true;\n    }\n}","import AbstractWebSocket from './AbstractWebSocket';\n\nexport default class LocalWebSocket extends AbstractWebSocket {\n    constructor(wsAddress, panelName, listenFor, channelId) {\n        super(wsAddress, panelName, listenFor, channelId);\n    }\n\n    connect = () => {\n        this.ws.onopen = () => {\n            this.ws.send(JSON.stringify({\n                type: \"PANEL_INIT\",\n                from: \"PANEL\",\n                name: this.panelName\n            }));\n\n            if (this.interval) {\n                clearInterval(this.interval);\n            }\n\n            this.interval = setInterval(() => {\n                this.ws.send(JSON.stringify({\n                    type: \"PANEL_PING\",\n                    from: \"PANEL\",\n                    name: this.panelName\n                }));\n            }, 20 * 1000);\n        };\n    \n        this.ws.onmessage = (message) => {\n            let event = JSON.parse(message.data);\n    \n            if (!this.listenFor.includes(event.type)) {\n                return;\n            }\n    \n            console.log(\"Received: \" + JSON.stringify(event, null, 5));\n    \n            this.queue.push(event);\n        };\n    \n        this.ws.onclose = (e) => {\n            console.log('Socket is closed. Reconnect will be attempted in 5 second.', e.reason);\n            setTimeout(() => {\n                this.connect();\n            }, 5000);\n        };\n    \n        this.ws.onerror = (err) => {\n            console.error('Socket encountered error: ', err.message, 'Closing socket');\n            this.ws.close();\n        };\n    }\n}","import LocalWebSocket from './LocalWebSocket';\nimport RemoteWebSocket from './RemoteWebSocket';\n\nexport let createWebSocket = (panelName, listenFor, channelId) => {\n    console.log(\"BUILD TARGET: \" + process.env.REACT_APP_BUILD_TARGET);\n    if (process.env.REACT_APP_BUILD_TARGET === \"electron\") {\n        return new LocalWebSocket('ws://localhost:8081', panelName, listenFor);\n    } else {\n        return new RemoteWebSocket('wss://deusprogrammer.com/api/ws/twitch', panelName, listenFor, channelId);\n    }\n}","import React from 'react';\nimport {createWebSocket} from '../ws/WebSocketFactory';\n\nconst fontSize = 32;\n\nclass DeathCounter extends React.Component {\n\tconstructor(props) {\n        super(props);\n        this.ws = null;\n        this.interval = null;\n        this.state = {\n            currentEvent: null,\n\t\t\tdeaths: 0,\n\t\t\ttextScale: 1\n        }\n    }\n\n    consumer = () => {\n        if (!this.ws.hasNext()) {\n            return;\n        }\n\n        let currentEvent = this.ws.next();\n        this.onDeath(currentEvent.eventData.count);\n    }\n\n\tcomponentDidMount() {\n\t\tlet urlParams = new URLSearchParams(window.location.search);\n\t\tthis.ws = createWebSocket('DEATH_COUNTER', ['DEATH_COUNT'], urlParams.get('channelId'))\n\t\tthis.ws.connect();\n\t\tsetInterval(this.consumer, 0);\n\t\t\n        document.addEventListener(\"contextmenu\", (e) => {this.onReset(e)});\n\t}\n\n\tcomponentWillUnmount() {\n        document.removeEventListener(\"contextmenu\", (e) => {this.onReset(e)});\n\t\tthis.ws.disconnect();\n\t}\n\n\tonReset = (e) => {\n\t\tthis.setState({deaths: 0, textScale: 1});\n\t\te.preventDefault();\n\t\treturn false;\n\t}\n\n\tonDeath = (count = null) => {\n\t\tthis.setState((prevState) => {\n\t\t\treturn {\n\t\t\t\tdeaths: count !== -1 ? count : prevState.deaths + 1,\n\t\t\t\ttextScale: 1\n\t\t\t}\n\t\t});\n\n\t\tlet direction = 1;\n\n\t\tlet interval = setInterval(() => {\n\t\t\t//If scaling up\n\t\t\tif (this.state.textScale <= 2 && direction > 0) {\n\t\t\t\tthis.setState((prevState) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttextScale: Math.min(prevState.textScale + 0.1, 2)\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// If scaling down\n\t\t\tif (this.state.textScale >= 1 && direction < 0) {\n\t\t\t\tthis.setState((prevState) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttextScale: Math.max(prevState.textScale - 0.1, 1)\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// If done animating up\n\t\t\tif (this.state.textScale >= 2 && direction > 0) {\n\t\t\t\tdirection = -1;\n\t\t\t}\n\n\t\t\t// If done animating down\n\t\t\tif (this.state.textScale <= 1 && direction < 0) {\n\t\t\t\tclearInterval(interval);\n\t\t\t}\n\t\t}, 10);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div style={{height: \"100vh\", width: \"100vw\", userSelect: \"none\"}} className=\"App\">\n\t\t\t\t<span style={{fontWeight: \"bolder\", fontSize: `${this.state.textScale * fontSize}pt`, WebkitTextStroke: \"2px black\", WebkitTextFillColor: \"white\", lineHeight: \"100vh\", height: \"100vh\"}}>Deaths: {this.state.deaths}</span>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default DeathCounter;\n","import React, {useState} from 'react';\nimport {Link} from 'react-router-dom';\n\nexport default () => {\n    const [color, setColor] = useState(0);\n    return (\n        <div style={{textAlign: \"center\", margin: \"auto\", width: \"100vw\", height: \"100vh\", backgroundColor: `rgb(${color}, ${color}, ${color})`, color: `rgb(${255 - color}, ${255 - color}, ${255 - color})`}}>\n            <h1>Twitch Tools</h1>\n            <div>\n                <Link to={`${process.env.PUBLIC_URL}/death-counter`}>Death Counter</Link><br/>\n                <Link to={`${process.env.PUBLIC_URL}/sound-player`}>Sound Player</Link><br/>\n                <Link to={`${process.env.PUBLIC_URL}/birdup`}>BIRD UP</Link><br/>\n                <input type=\"range\" value={color} max={255} onChange={({target: {value}}) => {setColor(value)}} /><span>{color}</span>\n            </div>\n        </div>\n    )\n}","import React from 'react';\nimport {createWebSocket} from '../ws/WebSocketFactory';\n\nclass RequestQueue extends React.Component {\n    constructor(props) {\n        super(props);\n        this.ws = null;\n        this.interval = null;\n        this.state = {\n            mode: \"NEXT_UP\",\n            requestList: []\n        }\n    }\n\n    consumer = () => {\n        if (!this.ws.hasNext()) {\n            return;\n        }\n\n        let currentEvent = this.ws.next();\n        this.setState({requestList: currentEvent.eventData.requestList});\n    }\n\n\tcomponentDidMount() {\n\t\tlet urlParams = new URLSearchParams(window.location.search);\n        this.ws = createWebSocket('REQUESTS', ['REQUEST'], urlParams.get('channelId'))\n        this.ws.connect();\n        setInterval(this.consumer, 0);\n\n        // Cycle between next up view and queue view\n        setInterval(() => {\n            this.showQueue();\n        }, 1000 * 60);\n\t}\n\n    componentWillUnmount() {\n        this.ws.disconnect();\n    }\n\n    showQueue = () => {\n        this.setState({mode: \"QUEUE\"});\n        setTimeout(() => {\n            this.setState({mode: \"NEXT_UP\"})\n        }, 1000 * 10);\n    }\n\n\trender() {\n\t\treturn (\n\t\t\t<div style={{height: \"100vh\", width: \"100vw\", userSelect: \"none\", position: \"relative\"}} className=\"App\">\n                    <div style={{width: \"100vw\", position: \"absolute\", bottom: \"0px\", left: \"0px\", textAlign: \"center\", fontSize: \"20pt\", WebkitTextStroke: \"1px black\", WebkitTextFillColor: \"white\"}} onClick={this.showQueue}>\n                        {this.state.requestList.length > 0 ? <marquee>Next up: {this.state.requestList[this.state.requestList.length - 1].request} from {this.state.requestList[this.state.requestList.length - 1].requester}</marquee>\n                        :\n                        <marquee>No requests so far.  Make a request by donating!</marquee>}\n                    </div>\n                    <div style={{width: \"100vw\", position: \"absolute\", bottom: \"0px\", left: \"0px\", textAlign: \"center\"}}>\n                        <div className={this.state.mode === \"QUEUE\" ? \"open\" : \"closed\"} style={{maxWidth: \"50%\", margin: \"auto\", padding: \"0px 5px\", backgroundColor: \"gray\", color: \"white\"}}>\n                            <strong>Coming up:</strong>\n                            {this.state.requestList.slice().reverse().slice(0, 3).map((request, index) => {\n                                return (\n                                    <div key={`entry-${index}`} style={{color: index === 0 ? \"yellow\" : \"white\"}}>\n                                        {index + 1}: {request.request} from {request.requester}\n                                    </div>\n                                )\n                            })}\n                        </div>\n                    </div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default RequestQueue;\n","import React from 'react';\nimport { w3cwebsocket as W3CWebSocket } from \"websocket\";\n\nlet urlParams = new URLSearchParams(window.location.search);\n\nclass BirdUp extends React.Component {\n\t\n    constructor() {\n        super();\n\n        this.playing = false;\n\n        this.textRef = React.createRef();\n        this.imageRef1 = React.createRef();\n        this.imageRef2 = React.createRef();\n        this.imageRef3 = React.createRef();\n        this.imageRef4 = React.createRef();\n        this.imageRef5 = React.createRef();\n        this.imageRef6 = React.createRef();\n\n        this.stages = [this.textRef, this.imageRef1, this.imageRef2, this.imageRef3, this.imageRef4, this.imageRef5, this.imageRef6];\n        this.birdQueue = [];\n\n        this.state = {\n        }\n    }\n\n\t// connect = async () => {\n    //     const ws = new W3CWebSocket('wss://deusprogrammer.com/api/ws/twitch');\n\n    //     ws.onopen = () => {\n    //         ws.send(JSON.stringify({\n    //             type: \"REGISTER_PANEL\",\n    //             from: \"PANEL\",\n    //             channelId: urlParams.get(\"channelId\")\n    //         }));\n\n    //         setInterval(() => {\n    //             ws.send(JSON.stringify({\n    //                 type: \"PING_SERVER\",\n    //                 from: \"PANEL\",\n    //                 channelId: urlParams.get(\"channelId\")\n    //             }));\n    //         }, 20 * 1000);\n    //     };\n\n    //     ws.onmessage = async (message) => {\n    //         let event = JSON.parse(message.data);\n            \n\t// \t\tif (event.type === \"BIRDUP\") {\n    //             this.birdQueue.push({});\n\t// \t\t\t//this.birdup();\n\t// \t\t}\n    //     };\n\n    //     ws.onclose = async (e) => {\n    //         console.log('Socket is closed. Reconnect will be attempted in 5 second.', e.reason);\n    //         this.setState({ mobs: [] });\n    //         setTimeout(async () => {\n    //             this.connect();\n    //         }, 5000);\n    //     };\n\n    //     ws.onerror = async (err) => {\n    //         console.error('Socket encountered error: ', err.message, 'Closing socket');\n    //         ws.close();\n    //     };\n    // }\n\n    // consumer = async () => {\n    //     if (this.birdQueue.length <= 0 || this.playing || !this.stages[0].current) {\n    //         return;\n    //     }\n\n    //     this.birdQueue = this.birdQueue.slice(1);\n    //     this.playing = true;\n\n    //     await this.birdup();\n    // }\n\n\tcomponentDidMount() {\n\t\t// If a channel id is supplied, connect the websocket for updates via bot commands\n\t\t// if (urlParams.get(\"channelId\")) {\n\t\t// \tthis.connect();\n\t\t// }\n\n        // setInterval(this.consumer, 1000);\n\n        this.birdup();\n\t}\n\n\tbirdup = async () => {\n        this.stages[0].current.style.display = \"block\";\n        let audio = new Audio(`${process.env.PUBLIC_URL}/sounds/birdup.mp3`);\n        await audio.play();\n\n        let stage = 1;\n        let interval = setInterval(() => {\n            if (stage >= this.stages.length) {\n                clearInterval(interval);\n                setTimeout(() => {\n                    for (let s of this.stages) {\n                        s.current.style.display = \"none\";\n                    }\n\n                    // Delay start of next queue element by at least 5 seconds\n                    setTimeout(() => {\n                        this.playing = false;\n                        this.props.onComplete(\"birdup\");\n                    }, 5000);\n                }, 2000);\n                return;\n            }\n\n            this.stages[stage++].current.style.display = \"block\";\n        }, 300);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div style={{height: \"100vh\", width: \"100vw\", userSelect: \"none\", position: \"relative\"}} className=\"App\">\n                <img  alt=\"birdup\" style={{position: \"absolute\", fontSize: \"20px\", right: \"0px\", bottom: \"0px\", height: \"20%\", zIndex: \"101\", display: \"none\"}} ref={this.imageRef1} src={`${process.env.PUBLIC_URL}/images/birdup.png`} />\n                <img  alt=\"birdup\" style={{position: \"absolute\", fontSize: \"20px\", right: \"0px\", bottom: \"0px\", height: \"40%\", zIndex: \"102\", display: \"none\"}} ref={this.imageRef2} src={`${process.env.PUBLIC_URL}/images//birdup.png`} />\n                <img  alt=\"birdup\" style={{position: \"absolute\", fontSize: \"20px\", right: \"0px\", bottom: \"0px\", height: \"60%\", zIndex: \"103\", display: \"none\"}} ref={this.imageRef3} src={`${process.env.PUBLIC_URL}/images//birdup.png`} />\n                <img  alt=\"birdup\" style={{position: \"absolute\", fontSize: \"20px\", right: \"0px\", bottom: \"0px\", height: \"80%\", zIndex: \"104\", display: \"none\"}} ref={this.imageRef4} src={`${process.env.PUBLIC_URL}/images//birdup.png`} />\n                <img  alt=\"birdup\" style={{position: \"absolute\", fontSize: \"20px\", right: \"0px\", bottom: \"0px\", height: \"100%\", zIndex: \"105\", display: \"none\"}} ref={this.imageRef5} src={`${process.env.PUBLIC_URL}/images//birdup.png`} />\n                <img  alt=\"birdup\" style={{position: \"absolute\", fontSize: \"20px\", right: \"0px\", bottom: \"0px\", height: \"120%\", zIndex: \"106\", display: \"none\"}} ref={this.imageRef6} src={`${process.env.PUBLIC_URL}/images//birdup.png`} />\n                <div  style={{position: \"absolute\", fontFamily: \"Cooper Black\", WebkitTextStroke: \"5px black\", WebkitTextFillColor: \"#CE01E2\", bottom: \"0px\", left: \"50%\", transform: \"translate(-50%, -50%)\", fontSize: \"70pt\",  zIndex: \"200\", display: \"none\"}} ref={this.textRef}>BIRD UP!</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default BirdUp;","import React, {useState, useEffect} from 'react';\nimport Phaser from 'phaser';\n\nlet RaidAlert = (props) => {\n    let ground, waterGroup;\n\n    let isHurt = false;\n    let isDying = false;\n    let timeout = null;\n    // let text;\n    let scaleDirection = 1;\n\n    let scaleDimensions = {w: 1440, h: 820};\n\n    function preload() {\n        const slimeImage = process.env.PUBLIC_URL + '/images/slime-sprite.png';\n        const linkImage = process.env.PUBLIC_URL + '/images/link.png';\n\n        const groundImage = process.env.PUBLIC_URL + '/images/ground.png';\n        const waterImage = process.env.PUBLIC_URL + '/images/water.png';\n\n        const bgmSound = process.env.PUBLIC_URL + '/sounds/bgm.mp3';\n        const battleSound = process.env.PUBLIC_URL + '/sounds/battle.wav';\n        const hurtSound = process.env.PUBLIC_URL + '/sounds/hurt.wav';\n        const dieSound = process.env.PUBLIC_URL + '/sounds/die.wav';\n        const fanfareSound = process.env.PUBLIC_URL + '/sounds/fanfare.wav';;\n\n        this.load.image('ground', groundImage);\n        this.load.image('water', waterImage);\n\n        this.load.spritesheet('slime', \n            slimeImage,\n            { frameWidth: 80, frameHeight: 80 }\n        );\n        this.load.spritesheet('link', \n            linkImage,\n            { frameWidth: 80, frameHeight: 160 }\n        );\n\n        this.load.audio('bgm', [bgmSound]);\n        this.load.audio('battle', [battleSound]);\n        this.load.audio('hurt', [hurtSound]);\n        this.load.audio('die', [dieSound]);\n        this.load.audio('fanfare', [fanfareSound]);\n    }\n\n    function create() {\n        const variable = props.variable;\n        // const message = props.message;\n        const scale = this.game.scale.width/scaleDimensions.w;\n        const groundWidth = this.textures.get('ground').getSourceImage().width * scale;\n        const groundHeight = this.textures.get('ground').getSourceImage().height * scale;\n        const waterWidth = this.textures.get('water').getSourceImage().width * scale;\n        const groundHeights = [(Math.random() * 100 + 200) * scale, (Math.random() * 100 + 200) * scale];\n\n        ground = this.physics.add.staticGroup();\n        waterGroup = this.physics.add.staticGroup();\n        this.anims.create({\n            key: 'wobble',\n            frames: this.anims.generateFrameNumbers('slime', { start: 0, end: 2 }),\n            frameRate: 10,\n            repeat: -1\n        });\n\n        this.anims.create({\n            key: 'idle',\n            frames: this.anims.generateFrameNumbers('link', { start: 0, end: 0 }),\n            frameRate: 10,\n            repeat: -1\n        });\n\n        this.anims.create({\n            key: 'hurt',\n            frames: this.anims.generateFrameNumbers('link', { start: 1, end: 1 }),\n            frameRate: 10,\n            repeat: -1\n        });\n\n        let bgm = this.sound.add('bgm', {loop: true, volume: 0.25});\n        let battle = this.sound.add('battle', {loop: false});\n        let hurt = this.sound.add('hurt', {loop: false, volume: 3});\n        let die = this.sound.add('die', {loop: false});\n        let fanfare = this.sound.add('fanfare', {loop: false, volume: 1});\n        die.once('complete', () => {\n            this.scene.stop();\n            this.sys.game.destroy(true);\n            clearTimeout(timeout);\n            props.onComplete();\n        });\n        fanfare.once('complete', () => {\n            this.scene.stop();\n            this.sys.game.destroy(true);\n            clearTimeout(timeout);\n            props.onComplete();\n        })\n\n        battle.play();\n        bgm.play();\n\n        // Draw Link\n        const linkY = this.game.scale.height - (groundHeight - groundHeights[1]);\n        let link = this.physics.add.sprite(groundWidth + 200, linkY, 'link');\n        link.setOrigin(0, 1);\n        link.setBounce(0.5);\n        link.setScale(scale);\n        link.setGravityY(300);\n        link.refreshBody();\n        link.body.setCollideWorldBounds(true);\n        link.anims.play('idle', true);\n        this.physics.add.collider(link, ground);\n\n        // Draw slimes\n        for (let i = 0; i < variable; i++) {\n            let slime = this.physics.add.sprite(-i * .5, (Math.random() * (this.game.scale.height - 100)) - (groundHeight - groundHeights[0]), 'slime');\n            slime.setScale(scale);\n            slime.setBounce(Math.min(1, Math.random() + 0.5));\n            slime.body.setGravity(400);\n            slime.anims.play('wobble', true);\n            slime.setVelocityX(Math.random() * 300);\n            this.physics.add.collider(slime, ground);\n            this.physics.add.overlap(link, slime, () => {\n                if (!isHurt) {\n                    isHurt = true;\n                    hurt.play();\n                }\n                link.play('hurt');\n                link.setVelocity(500, -50);\n                link.body.useDamping = true;\n                link.setDrag(0.99);\n            }, null, this);\n            this.physics.add.overlap(link, waterGroup, () => {\n                if (!isDying) {\n                    isDying = true;\n                    die.play();\n                }\n                bgm.stop();\n                link.play('hurt');\n                link.setVelocity(0, 50);\n            }, null, this);\n        }\n\n        // Draw water\n        let waterX = 0;\n        while (waterX < this.game.scale.width) {\n            let water = waterGroup.create(0, 0, \"water\");\n            water.setScale(scale);\n            water.setOrigin(0, 1);\n            water.x = waterX;\n            water.y = this.game.scale.height + 100;\n            water.refreshBody();\n            waterX += (waterWidth);\n        }\n\n        // Draw ground\n        for (let i = 0; i < 2; i++) {\n            let x = i * ((groundWidth) + 200);\n            let height = groundHeights[i];\n            let g1 = ground.create(x, this.game.scale.height + height, 'ground');\n            g1.setOrigin(0, 1);\n            g1.setScale(scale);\n            g1.refreshBody();\n        }\n\n        // text = this.add.text(0.5 * this.game.scale.width, 0.5 * this.game.scale.height, message, { fontSize: \"30pt\", stroke: \"#000\", strokeThickness: 5 });\n        // text.setOrigin(0.5, 0.5);\n\n        // Set timeout\n        timeout = setTimeout(() => {\n            bgm.stop();\n            fanfare.play();\n        }, 10000);\n    }\n\n    function update() {\n        // text.setScale(text.scale + (scaleDirection * 0.01));\n        // text.tint = Math.random() * 0xffffff;\n        // if (text.scale > 2 || text.scale < 0.5) {\n        //     scaleDirection *= -1;\n        // }\n    }\n\n    const start = () => {\n        const config = {\n            type: Phaser.AUTO,\n            width: \"100vw\",\n            height: \"100vh\",\n            transparent: true,\n            parent: \"phaser\",\n            scene: {\n                preload,\n                create,\n                update\n            }, \n            physics: {\n                default: 'arcade',\n                arcade: {\n                    gravity: { y: 200 }\n                }\n            },\n        };\n\n        new Phaser.Game(config);\n    }\n\n    useEffect(() => {\n        start();\n    }, []);\n\n    return (\n        <div>\n            <div id=\"phaser\" />\n        </div>\n    );\n}\n\nexport default RaidAlert;\n","import React, {useEffect} from 'react';\nimport Phaser from 'phaser';\n\nlet RaidAlert = (props) => {\n    let spriteCount = 0;\n    let timeout = false;\n    // let text;\n    let scaleDirection = 1;\n\n    let scaleDimensions = {w: 1440, h: 820};\n\n    function preload() {\n        const groundImage = process.env.PUBLIC_URL + '/images/ground.png';\n        this.load.image('ground', groundImage);\n\n        props.config.sprites.forEach((sprite, index) => {\n            this.load.spritesheet(`sprite${index}`,\n                sprite.file,\n                { frameWidth: sprite.frameWidth, frameHeight: sprite.frameHeight }\n            );\n        });\n\n        this.load.audio('music', [props.config.music.file]);\n        this.load.audio('leaving', [props.config.leavingSound.file]);\n    }\n\n    function create() {\n        const scale = this.game.scale.width/scaleDimensions.w;\n        const variable = props.variable;\n        const message = props.message;\n\n        props.config.sprites.forEach((sprite, index) => {\n            this.anims.create({\n                key: `animation${index}`,\n                frames: this.anims.generateFrameNumbers(`sprite${index}`, { start: sprite.startFrame, end: sprite.endFrame }),\n                frameRate: sprite.frameRate,\n                repeat: -1\n            });\n        });\n\n        let music = this.sound.add('music', {loop: true, volume: props.config.music.volume});\n        let leavingSound = this.sound.add('leaving', {loop: false, volume: props.config.leavingSound.volume});\n\n        let speed = (Math.ceil(Math.log2(variable) + 1) * 100);\n        let spacing = Math.ceil(5000/variable);\n\n        let wall = this.physics.add.sprite(this.game.scale.width + 256, 0, 'ground');\n        wall.setOrigin(0, 0);\n        wall.displayHeight = this.game.scale.height;\n\n        spriteCount = variable;\n\n        music.play();\n\n        // Draw yoshis\n        for (let i = 0; i < variable; i++) {\n            let r = Math.floor(Math.random() * props.config.sprites.length);\n            let sprite = this.physics.add.sprite(-i * spacing, Math.random() * this.game.scale.height, `sprite${r}`);\n            sprite.setScale(scale);\n            sprite.body.setGravity(0);\n            sprite.anims.play(`animation${r}`, true);\n            sprite.setVelocityX(speed);\n\n            this.physics.add.overlap(sprite, wall, () => {\n                leavingSound.play();\n                sprite.destroy();\n                spriteCount--;\n            }, null, this);\n        }\n\n        setTimeout(() => {\n            timeout = true;\n        }, 15000);\n\n        // text = this.add.text(0.5 * this.game.scale.width, 0.5 * this.game.scale.height, message, { fontSize: \"30pt\", stroke: \"#000\", strokeThickness: 5 });\n        // text.setOrigin(0.5, 0.5);\n    }\n\n    function update() {\n        if (spriteCount <= 0 && timeout) {\n            this.scene.stop();\n            this.sys.game.destroy(true);\n            \n            if (props.onComplete) {\n                props.onComplete();\n            }\n        }\n\n        // text.setScale(text.scale + (scaleDirection * 0.01));\n        // text.tint = Math.random() * 0xffffff;\n        // if (text.scale > 2 || text.scale < 0.5) {\n        //     scaleDirection *= -1;\n        // }\n    }\n\n    const start = () => {\n        const config = {\n            type: Phaser.AUTO,\n            width: \"100vw\",\n            height: \"100vh\",\n            transparent: true,\n            parent: \"phaser\",\n            scene: {\n                preload,\n                create,\n                update\n            }, \n            physics: {\n                default: 'arcade',\n                arcade: {\n                    gravity: { y: 0 }\n                }\n            },\n        };\n\n        new Phaser.Game(config);\n    }\n\n    useEffect(() => {\n        start();\n    }, []);\n\n    return (\n        <div>\n            <div id=\"phaser\" />\n        </div>\n    );\n}\n\nexport default RaidAlert;","import React from 'react';\n\nconst RANDOM_VIDEO_COUNT = 7;\n\nexport default class VideoPlayer extends React.Component {\n    constructor(props) {\n        super(props);\n        this.videoElement = React.createRef();\n        this.canvasElement1 = React.createRef();\n        this.canvasElement2 = React.createRef();\n        this.ctx1 = null;\n        this.ctx2 = null;\n\n        this.timeOut = null;\n\n        this.state = {\n            averageColor: {r: 0, g: 0, b: 0},\n            vh: Math.max(document.documentElement.clientHeight || 0, window.innerHeight || 0),\n            vw: Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0)\n        }\n    }\n\n    componentDidMount() {\n        this.videoElement.current.addEventListener(\"ended\", () => {\n            if (this.timeOut) {\n                clearTimeout(this.timeOut);\n            }\n            this.props.onComplete(\"randomcustomvideo\");\n        })\n\n        this.ctx1 = this.canvasElement1.current.getContext('2d');\n        this.ctx2 = this.canvasElement2.current.getContext('2d');\n    \n        this.videoElement.current.addEventListener('play', () => {\n            this.timerCallback();\n        }, false);\n\n        window.onresize = () => {\n            this.setState({\n                vh: Math.max(document.documentElement.clientHeight || 0, window.innerHeight || 0),\n                vw: Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0)\n            })\n        };\n\n        this.videoElement.current.volume = this.props.volume;\n        this.videoElement.current.play();\n    }\n\n    timerCallback = () => {\n        if ((this.videoElement && this.videoElement.current) && (this.videoElement.current.paused || this.videoElement.current.ended)) {\n            return;\n        }\n        this.computeFrame();\n        this.timeOut = setTimeout(() => {\n            this.timerCallback();\n        }, 0);\n    };\n\n    computeFrame = () => {\n        if (!this.videoElement.current) {\n            return;\n        }\n        this.ctx1.drawImage(this.videoElement.current, 0, 0, this.state.vw, this.state.vh);\n        const frame = this.ctx1.getImageData(0, 0, this.state.vw, this.state.vh);\n        const length = frame.data.length;\n\n        for (let i = 0; i < length; i += 4) {\n            const red = frame.data[i + 0];\n            const green = frame.data[i + 1];\n            const blue = frame.data[i + 2];\n\n            if (this.props.chromaKey === \"green\") {\n                if (green > red + blue) {\n                    frame.data[i + 3] = 0;\n                }\n            } else if (this.props.chromaKey === \"red\") {\n                if (red > green + blue) {\n                    frame.data[i + 3] = 0;\n                }\n            } else if (this.props.chromaKey === \"blue\") {\n                if (blue > red + green) {\n                    frame.data[i + 3] = 0;\n                }\n            } else if (this.props.chromaKey === \"black\") {\n                if (green <= 177 && red <= 177 && blue <= 177) {\n                    frame.data[i + 3] = 0;\n                }\n            } else if (this.props.chromaKey === \"custom\") {\n                if (green >= this.props.lowerBound && green <= this.props.upperBound && red >= this.props.lowerBound && red <= blue >= this.props.lowerBound && this.props.upperBound && blue <= this.props.upperBound) {\n                    frame.data[i + 3] = 0;\n                }\n            }\n        }\n        this.ctx2.putImageData(frame, 0, 0);\n    };\n    \n    render() {\n        let n = Math.ceil((Math.random() * RANDOM_VIDEO_COUNT));\n\n        return (\n            <div \n                style={{overflow: 'hidden'}}>\n                <video\n                    style={{display: \"none\"}}\n                    src={this.props.url} \n                    controls={false}\n                    crossOrigin=\"anonymous\"\n                    ref={this.videoElement} />\n                <canvas height={this.state.vh} width={this.state.vw} style={{display: \"none\"}} ref={this.canvasElement1} />\n                <canvas height={this.state.vh} width={this.state.vw} style={{border: \"1px solid black\"}} ref={this.canvasElement2} />\n            </div>\n        )\n    }\n}","import React from 'react';\n\nimport BirdUp from './BirdUp';\nimport ZeldaRaidAlert from './ZeldaRaidAlert';\nimport ChargeRaidAlert from './ChargeRaidAlert';\nimport VideoPlayer from './VideoPlayer';\n\nimport {createWebSocket} from '../../ws/WebSocketFactory';\n\nexport default class TwitchMultiOverlay extends React.Component {\n    constructor(props) {\n        super(props);\n        this.ws = null;\n        this.interval = null;\n        this.state = {\n            currentEvent: null\n        }\n    }\n\n    consumer = () => {\n        if (!this.ws.hasNext() || this.state.currentEvent) {\n            console.log(`SKIPPING: ${this.ws.hasNext()} || ${this.state.currentEvent}`);\n            return;\n        }\n\n        console.log(\"EVENT\");\n\n        let currentEvent = this.ws.next();\n        this.setState({currentEvent});\n    }\n\n    reset = () => {\n        this.setState({currentEvent: null});\n    }\n\n    componentDidMount() {\n        let urlParams = new URLSearchParams(window.location.search);\n        this.ws = createWebSocket('MULTI', ['BIRDUP', 'BADAPPLE', 'VIDEO', 'DYNAMIC'], urlParams.get('channelId'))\n        this.ws.connect();\n        setInterval(this.consumer, 5000);\n    }\n\n    componentWillUnmount() {\n\t\tthis.ws.disconnect();\n\t}\n\n    render() {\n        let showComponent = null;\n\n        if (!this.state.currentEvent) {\n            return (<div></div>)\n        }\n\n        switch(this.state.currentEvent.type) {\n            case \"BIRDUP\":\n                showComponent = <BirdUp \n                                    onComplete={this.reset}\n                                    requester={this.state.currentEvent.eventData.requester} />;\n                break;\n            case \"VIDEO\":\n                showComponent = <VideoPlayer \n                                    onComplete={this.reset} \n                                    url={this.state.currentEvent.eventData.url}\n                                    volume={this.state.currentEvent.eventData.volume}\n                                    chromaKey={this.state.currentEvent.eventData.chromaKey} />;\n                break;\n            case \"DYNAMIC\":\n                if (this.state.currentEvent.eventData.raidTheme === \"ZELDA2\") {\n                    showComponent = <ZeldaRaidAlert \n                                        onComplete={this.reset}\n                                        variable={this.state.currentEvent.eventData.variable} />;\n                } else if (this.state.currentEvent.eventData.raidTheme === \"STORED\") {\n                    showComponent = <ChargeRaidAlert \n                                        onComplete={this.reset}\n                                        variable={this.state.currentEvent.eventData.variable}\n                                        config={this.state.currentEvent.eventData.raidCustomTheme} />;\n                }\n                break;\n        }\n\n        return (\n            <div>\n                <div className=\"multContainer\">\n                    {showComponent}\n                    <span className=\"alert-text\">{this.state.currentEvent.eventData.message}</span>\n                </div>\n            </div>\n        )\n    }\n}","import React from 'react';\nimport {createWebSocket} from '../ws/WebSocketFactory';\n\nclass SoundPlayer extends React.Component {\n    constructor(props) {\n        super(props);\n        this.ws = null;\n        this.consumerLocked = false;\n        this.state = {\n            soundPlaying: false,\n            requester: null,\n            mediaName: null\n        }\n    }\n\n    consumer = async () => {\n        if (!this.ws.hasNext() || this.consumerLocked) {\n            return;\n        }\n\n        let currentEvent = this.ws.next();\n        let {url, volume} = currentEvent.eventData;\n        this.consumerLocked = true;\n\n        let audio = new Audio(url);\n        this.setState({soundPlaying: true});\n        audio.addEventListener(\"ended\", () => {\n            this.setState({soundPlaying: false});\n            setTimeout(() => {\n                this.consumerLocked = false;\n            }, 5000);\n        });\n        audio.volume = volume;\n        await audio.play();\n    }\n\n    componentDidMount() {\n        let urlParams = new URLSearchParams(window.location.search);\n        this.ws = createWebSocket('SOUND_PLAYER', ['AUDIO'], urlParams.get('channelId'))\n        this.ws.connect();\n        setInterval(this.consumer, 5000);\n    }\n\n    componentWillUnmount() {\n\t\tthis.ws.disconnect();\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div style={{height: \"100vh\", width: \"100vw\", userSelect: \"none\"}} className=\"App\">\n                {this.state.soundPlaying ?\n                    <div> \n                        <img \n                            style={{\n                                position: \"absolute\",\n                                width: \"100px\",\n                                height: \"100px\",\n                                top: \"50%\",\n                                left: \"50%\",\n                                transform: \"translate(-50%, -50%)\"\n                            }} \n                            src={`${process.env.PUBLIC_URL}/images/speaker.png`} />\n                        <span style={{\n                            position: \"absolute\",\n                            top: \"50%\",\n                            left: \"50%\",\n                            transform: \"translate(-50%, -50%)\",\n                            fontSize: \"20pt\",\n                            WebkitTextStroke: \"1px black\",\n                            WebkitTextFillColor: \"white\"\n                        }}>\n                            {this.state.message}\n                        </span>\n                    </div>\n                : null  }\n            </div>\n\t\t);\n\t}\n}\n\nexport default SoundPlayer;\n","import React from 'react';\n\nlet SpeechSynthesisTester = (props) => {\n    let speechTest = () => {\n        let msg = new SpeechSynthesisUtterance();\n        msg.text = \"This is a test of the web standard Speech Synthesis module.  If you can hear this, the test was a success.\";\n        window.speechSynthesis.speak(msg);\n    }\n\n    return (\n        <div>\n            <h1>Speech Synthesis Tester</h1>\n            <table>\n                <tr>\n                    <td>SpeechSynthesisUtterance Supported</td>\n                    <td>{SpeechSynthesisUtterance ? \"Yes\" : \"No\"}</td>\n                </tr>\n                <tr>\n                    <td>window.speechSynthesis Supported</td>\n                    <td>{window.speechSynthesis ? \"Yes\" : \"No\"}</td>\n                </tr>\n            </table>\n            <button onClick={() => {speechTest()}}>Test Speech Synthesis</button>\n        </div>\n    )\n}\n\nexport default SpeechSynthesisTester;","let convertSecondsToAltTimestamp = (seconds) => {\r\n    let m = Math.floor(seconds / 60);\r\n    let s = Math.floor(seconds % 60);\r\n    let ms = Math.floor((seconds - Math.trunc(seconds)) * 1000);\r\n\r\n    return `${m.toString().padStart(2, \"0\")}:${s.toString().padStart(2, \"0\")}.${ms.toString().padStart(3, \"0\")}`;\r\n}\r\n\r\nlet convertSubtitlesToWebVtt = (subtitles, substitution) => {\r\n    if (!substitution || substitution === \"\") {\r\n        substitution = \"[Missing Audio]\";\r\n    }\r\n    return \"WEBVTT\\n\\n\" + subtitles.map((subtitle) => {\r\n        if (substitution && (subtitle.text === \"[male_dub]\" || subtitle.text === \"[female_dub]\")) {\r\n            return `${convertSecondsToAltTimestamp(subtitle.startTime)} --> ${convertSecondsToAltTimestamp(subtitle.endTime)}\\n${substitution}`;\r\n        } else {\r\n            return `${convertSecondsToAltTimestamp(subtitle.startTime)} --> ${convertSecondsToAltTimestamp(subtitle.endTime)}\\n${subtitle.text}`;\r\n        }\r\n    }).join(\"\\n\\n\");\r\n}\r\n\r\nexport let createWebVttDataUri = (subtitles, substitution) => {\r\n    return \"data:text/vtt;base64,\" + btoa(convertSubtitlesToWebVtt(subtitles, substitution));\r\n}","import React from 'react';\r\nimport {createWebVttDataUri} from '../util/VideoTools';\r\n\r\nexport default class WhatTheDubPlayer extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.videoElement = React.createRef();\r\n\r\n        this.timeOut = null;\r\n        this.currentIndex = -1;\r\n        this.isTalking = false;\r\n        this.hasEnded = false;\r\n\r\n        this.state = {\r\n            vh: Math.max(document.documentElement.clientHeight || 0, window.innerHeight || 0),\r\n            vw: Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0),\r\n            muted: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.onresize = () => {\r\n            this.setState({\r\n                vh: Math.max(document.documentElement.clientHeight || 0, window.innerHeight || 0),\r\n                vw: Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0)\r\n            })\r\n        };\r\n\r\n        this.videoElement.current.play();\r\n\r\n        this.zombieInterval = window.setInterval(() => {\r\n            console.log(\"CHECKING FOR ZOMBIES\");\r\n            console.log(\"IS TALKING? \" + this.isTalking);\r\n            console.log(\"HAS ENDED?  \" + this.hasEnded);\r\n            if (!this.isTalking && this.hasEnded) {\r\n                console.log(\"OKAY, NOW I'M DONE.\");\r\n                this.pauseListener();\r\n                this.props.onComplete();\r\n                return;\r\n            }\r\n        }, 3000);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        console.log(\"SHIT\");\r\n        window.clearInterval(this.zombieInterval);\r\n    }\r\n\r\n    setIsTalking(b) {\r\n        this.isTalking = b;\r\n    }\r\n\r\n    setMuted(muted) {\r\n        this.setState({muted});\r\n    }\r\n\r\n    setCurrentIndex(i) {\r\n        this.currentIndex = i;\r\n    }\r\n\r\n    speak(subtitle, text) {\r\n        let voice = null;\r\n\r\n        this.setIsTalking(true);\r\n\r\n        if (subtitle.text === \"[male_dub]\") {\r\n            voice = window.maleVoice;\r\n        } else {\r\n            voice = window.femaleVoice;\r\n        }\r\n        \r\n        let msg = new SpeechSynthesisUtterance();\r\n        msg.voice = voice;\r\n        msg.text = text;\r\n        msg.onend = () => {\r\n            console.log(\"SPEAKING HAS ENDED\");\r\n            this.setIsTalking(false);\r\n            let ve = document.getElementById(\"videoElement\");\r\n            ve.play();\r\n        }\r\n        window.speechSynthesis.speak(msg);\r\n    }\r\n\r\n    updateSubtitle(video) {\r\n        let index = this.props.subtitles.findIndex((subtitle) => {\r\n            return video.currentTime > subtitle.startTime && video.currentTime < subtitle.endTime;\r\n        });\r\n\r\n        if (index !== this.currentIndex) {\r\n            if (this.isTalking) {\r\n                video.pause();\r\n                return;\r\n            }\r\n\r\n            if (this.currentIndex >= 0) {\r\n                let currentSubtitle = this.props.subtitles[this.currentIndex];\r\n                if (currentSubtitle.text === \"[male_dub]\" || currentSubtitle.text === \"[female_dub]\") {\r\n                    this.setMuted(false);\r\n                }\r\n            }\r\n\r\n            if (index >= 0) {\r\n                let subtitle = this.props.subtitles[index];\r\n                if (subtitle.text === \"[male_dub]\" || subtitle.text === \"[female_dub]\") {\r\n                    this.setMuted(true);\r\n                    if (this.props.substitution) {\r\n                        this.speak(subtitle, this.props.substitution);\r\n                    }\r\n                }        \r\n            }\r\n\r\n            this.setCurrentIndex(index);\r\n        }\r\n    }\r\n\r\n    startListener() {\r\n        this.interval = setInterval(() => {\r\n            let video = document.getElementById(\"videoElement\");\r\n            if (!video) {\r\n                this.pauseListener();\r\n                return;\r\n            }    \r\n            this.updateSubtitle(video);\r\n        }, 1000/60);\r\n    }\r\n\r\n    pauseListener() {\r\n        clearInterval(this.interval);\r\n    }\r\n    \r\n    render() {\r\n        return (\r\n            <div \r\n                style={{overflow: 'hidden', width: \"100vw\", height: \"100vh\", position: \"relative\"}}>\r\n                <div style={{position: \"absolute\", top: \"0px\", width: \"100%\", height: \"100vh\", zIndex: 9998, backgroundColor: \"black\"}}>\r\n                    <video\r\n                        id=\"videoElement\"\r\n                        src={this.props.url}\r\n                        style={{width: this.state.vw, height: this.state.vh}}\r\n                        controls={false}\r\n                        crossOrigin=\"anonymous\"\r\n                        onPlay={() => {this.startListener()}}\r\n                        onPause={() => {this.pauseListener()}}\r\n                        onEnded={() => {\r\n                            if (this.isTalking) {\r\n                                console.log(\"DONE\");\r\n                                this.pauseListener(); \r\n                                this.props.onComplete();\r\n                            } else {\r\n                                console.log(\"NOT QUITE DONE\");\r\n                                this.hasEnded = true;\r\n                            }\r\n                        }}\r\n                        muted={this.state.muted}\r\n                        ref={this.videoElement}>\r\n                            <track label=\"English\" kind=\"subtitles\" srcLang=\"en\" src={createWebVttDataUri(this.props.subtitles, this.props.substitution)} default></track>\r\n                    </video>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react'\n\nimport WhatTheDubPlayer from './WhatTheDubPlayer';\nimport {createWebSocket} from '../ws/WebSocketFactory';\n\nexport default class WhatTheDub extends React.Component {\n    constructor(props) {\n        super(props);\n        this.ws = null;\n        this.state = {\n            currentEvent: null,\n            joinedMiniGame: false\n        }\n    }\n\n    consumer = () => {\n        if (!this.ws.hasNext() || this.state.currentEvent) {\n            return;\n        }\n\n        let entry = this.ws.next();\n\n        if (entry.eventData.substitution) {\n            entry.eventData.substitution = entry.eventData.substitution.replace(/[^\\x00-\\x7F]/g, \"\");\n        }\n\n        this.setState({currentEvent: entry});\n    }\n\n    componentDidMount() {\n        let urlParams = new URLSearchParams(window.location.search);\n        this.ws = createWebSocket('WTD', ['DUB'], urlParams.get('channelId'))\n        this.ws.connect();\n        setInterval(this.consumer, 0);\n    }\n\n    componentWillUnmount() {\n\t\tthis.ws.disconnect();\n\t}\n\n    render(){\n        if (this.state.currentEvent && this.state.joinedMiniGame){\n            return (\n                <div style={{backgroundColor: \"black\"}}>\n                    <div style={{\n                        position: \"absolute\", \n                        top: \"0px\", \n                        left: \"0px\", \n                        width: \"20vw\", \n                        zIndex: 9999}}>\n                        <img style={{width: \"20vw\"}} src=\"images/wtd.png\" />\n                    </div>\n                    { this.state.currentEvent.eventData.requester ?\n                        <span style={{\n                            position: \"absolute\", \n                            top: \"0px\", \n                            left: \"50%\", \n                            transform: \"translateX(-50%)\",\n                            fontSize: \"20pt\",\n                            WebkitTextStroke: \"1px black\",\n                            WebkitTextFillColor: \"white\",\n                            zIndex: \"9999\"}}>\n                                Submitted By {this.state.currentEvent.eventData.requester}    \n                        </span> : null\n                    }\n                    <WhatTheDubPlayer\n                        url={this.state.currentEvent.eventData.videoData.videoUrl} \n                        subtitles={this.state.currentEvent.eventData.videoData.subtitles} \n                        substitution={this.state.currentEvent.eventData.substitution} \n                        onComplete={() => {this.setState({currentEvent: null})}} />\n                </div>\n            )\n        } else {\n            return (\n                <div style={{background: \"black\", height: \"100vh\"}}>\n                    <div style={{position: \"absolute\", top: \"0px\", left: \"0px\", width: \"20vw\", zIndex: 9999}}>\n                        <img style={{width: \"20vw\"}} src=\"images/wtd.png\" />\n                    </div>\n                    <div style={{\n                        position: \"absolute\", \n                        width: \"100vw\",\n                        textAlign: \"center\",\n                        top: \"50%\", \n                        left: \"50%\", \n                        transform: \"translate(-50%, -50%)\",\n                        fontSize: \"20pt\",\n                        WebkitTextStroke: \"1px black\",\n                        WebkitTextFillColor: \"white\"}}>\n                            Submit your answer with the command \"!games:wtd:answer\" followed by your submission!    \n                    </div>\n                    {this.state.joinedMiniGame ? null : <button onClick={() => {this.setState({joinedMiniGame: true})}} style={{position: \"absolute\", bottom: \"0px\", right: \"0px\", width: \"200px\", height: \"100px\"}}>Click to Join Mini Games</button>}\n                </div>\n            )\n        }\n\n    }\n}","export const configs = {\n    YOSHI: {\n        message: 'Incoming raid from ${raider} with a party of ${raidSize}!',\n        sprites: [\n            {\n                file: process.env.PUBLIC_URL + '/images/yoshi/yoshi-walk.png',\n                startFrame: 0,\n                endFrame: 9,\n                frameWidth: 128,\n                frameHeight: 128,\n                frameRate: 15\n            },\n            {\n                file: process.env.PUBLIC_URL + '/images/yoshi/yoshi-walk-black.png',\n                startFrame: 0,\n                endFrame: 9,\n                frameWidth: 128,\n                frameHeight: 128,\n                frameRate: 15\n            },\n            {\n                file: process.env.PUBLIC_URL + '/images/yoshi/yoshi-walk-blue.png',\n                startFrame: 0,\n                endFrame: 9,\n                frameWidth: 128,\n                frameHeight: 128,\n                frameRate: 15\n            },\n            {\n                file: process.env.PUBLIC_URL + '/images/yoshi/yoshi-walk-pink.png',\n                startFrame: 0,\n                endFrame: 9,\n                frameWidth: 128,\n                frameHeight: 128,\n                frameRate: 15\n            },\n            {\n                file: process.env.PUBLIC_URL + '/images/yoshi/yoshi-walk-purple.png',\n                startFrame: 0,\n                endFrame: 9,\n                frameWidth: 128,\n                frameHeight: 128,\n                frameRate: 15\n            },\n            {\n                file: process.env.PUBLIC_URL + '/images/yoshi/yoshi-walk-yellow.png',\n                startFrame: 0,\n                endFrame: 9,\n                frameWidth: 128,\n                frameHeight: 128,\n                frameRate: 15\n            }\n        ],\n        music: {\n            file: process.env.PUBLIC_URL + '/sounds/yoshi/yoshi-fanfare.mp3',\n            volume: 1\n        },\n        leavingSound: {\n            file: process.env.PUBLIC_URL + '/sounds/yoshi/yoshi-tongue.mp3',\n            volume: 1\n        }\n    },\n    SKULLMAN: {\n        message: 'HOLY SHIT! ${raider} raided with a party of ${raidSize}!',\n        sprites: [\n            {\n                file: process.env.PUBLIC_URL + '/images/skullman/skullman-walk.png',\n                startFrame: 0,\n                endFrame: 9,\n                frameWidth: 99,\n                frameHeight: 128,\n                frameRate: 15\n            }\n        ],\n        music: {\n            file: process.env.PUBLIC_URL + '/sounds/skullman/battle.mp3',\n            volume: 1\n        },\n        leavingSound: {\n            file: process.env.PUBLIC_URL + '/sounds/skullman/ash-groovy.mp3',\n            volume: 3\n        }\n    },\n    CHAIR: {\n        message: 'CHEESE IT UP! ${raider} raided with a party of ${raidSize}!',\n        sprites: [\n            {\n                file: process.env.PUBLIC_URL + '/images/chair/cheesesteak-walk.png',\n                startFrame: 0,\n                endFrame: 5,\n                frameWidth: 128,\n                frameHeight: 128,\n                frameRate: 15\n            },\n            {\n                file: process.env.PUBLIC_URL + '/images/chair/yuu.png',\n                startFrame: 24,\n                endFrame: 29,\n                frameWidth: 128,\n                frameHeight: 128,\n                frameRate: 15\n            },\n            {\n                file: process.env.PUBLIC_URL + '/images/chair/tanako.png',\n                startFrame: 30,\n                endFrame: 41,\n                frameWidth: 128,\n                frameHeight: 128,\n                frameRate: 15\n            }\n        ],\n        music: {\n            file: process.env.PUBLIC_URL + '/sounds/chair/music.mp3',\n            volume: 1\n        },\n        leavingSound: {\n            file: process.env.PUBLIC_URL + '/sounds/chair/cheeseitup.wav',\n            volume: 1\n        }\n    }\n}","import React, {useEffect, useState} from 'react';\nimport ZeldaRaidAlert from './multi/ZeldaRaidAlert';\nimport ChargeRaidAlert from './multi/ChargeRaidAlert';\n\nimport {configs} from '../util/testData';\nimport axios from 'axios';\n\nconst getRaidAlert = async (id) => {\n    let found = await axios.get(`https://deusprogrammer.com/api/streamcrabs/dynamic-alerts/${id}`, {\n        headers: {\n            \"X-Access-Token\": localStorage.getItem(\"accessToken\")\n        }\n    });\n\n    return found.data;\n}\n\nconst RaidAlertTestHarness = () => {\n    const [clicked, setClicked] = useState(false);\n    const [raider, setRaider] = useState(\"daddyfartbux\");\n    const [raidSize, setRaidSize] = useState(100);\n    const [theme, setTheme] = useState(\"CUSTOM\");\n    const [key, setKey] = useState(\"SKULLMAN\");\n    const [storedConfig, setStoredConfig] = useState({});\n\n    useEffect(async () => {\n        // Get url params\n        const urlParams = new URLSearchParams(window.location.search);\n        const raidTheme = urlParams.get('theme');\n        const raidId = urlParams.get('key');\n        setRaider(urlParams.get('raider') ? urlParams.get('raider') : \"daddyfartbux\");\n        setRaidSize(urlParams.get('raidSize') ? urlParams.get('raidSize') : 10);\n        setTheme(urlParams.get('theme') ? urlParams.get('theme') : \"YOSHI\");\n        setKey(urlParams.get('key') ? urlParams.get('key') : \"SKULLMAN\");\n\n        if (raidTheme === \"STORED\") {\n            let config = await getRaidAlert(raidId);\n            setStoredConfig(config);\n        }\n    }, []);\n\n    let raidAlert = null;\n\n    switch(theme) {\n        case \"ZELDA\":\n            raidAlert = <ZeldaRaidAlert \n                            variable={raidSize} \n                            onComplete={() => {setClicked(false)}} />;\n            break;\n        case \"CUSTOM\":\n            raidAlert = <ChargeRaidAlert \n                            variable={raidSize} \n                            config={configs[key]}\n                            onComplete={() => {setClicked(false)}} />;\n        case \"STORED\":\n            raidAlert = <ChargeRaidAlert \n                            variable={raidSize} \n                            config={storedConfig}\n                            onComplete={() => {setClicked(false)}} />;\n            break;\n    }\n\n    return (\n        <div>\n            {clicked ? \n                <div>\n                    {raidAlert}\n                    <span className=\"alert-text\">{`${raider} is raiding with ${raidSize} viewers.`}</span>\n                </div>\n             : \n                <div>\n                    <p>Testing with size <b>{raidSize}</b> and raider <b>{raider}</b></p>\n                    <button onClick={() => {\n                        setClicked(true);\n                    }}>Click to Test</button>\n                    <h3>Debug</h3>\n                    <pre>\n                        {JSON.stringify(storedConfig, null, 5)}\n                    </pre>\n                </div>\n            }\n        </div>\n    );\n}\n\nexport default RaidAlertTestHarness","import React from 'react';\nimport {createWebSocket} from '../ws/WebSocketFactory';\n\nclass TTS extends React.Component {\n    constructor(props) {\n        super(props);\n        this.consumerLocked = false;\n        this.state = {\n            soundPlaying: false,\n            requester: null,\n            mediaName: null,\n            started: false,\n            textList: []\n        }\n    }\n\n    consumer = () => {\n        if (!this.ws.hasNext() || this.consumerLocked) {\n            return;\n        }\n\n        let currentEvent = this.ws.next();\n        let {requester, text} = currentEvent.eventData;\n        this.consumerLocked = true;\n\n        let msg = new SpeechSynthesisUtterance();\n        msg.text = `${requester} said: '${text}'`;\n        msg.voice = window.maleVoice;\n        let textList = [...this.state.textList];\n        textList.push(\"- \" + msg.text);\n        window.speechSynthesis.speak(msg);\n\n        this.setState({textList});\n        msg.onend = () => {\n            setTimeout(() => {\n                this.consumerLocked = false;\n            }, 5000);\n        };\n    }\n\n    componentWillUnmount() {\n\t\tthis.ws.disconnect();\n\t}\n\n    start = () => {\n        let urlParams = new URLSearchParams(window.location.search);\n        this.ws = createWebSocket('TTS', ['TTS'], urlParams.get('channelId'))\n        this.ws.connect();\n        setInterval(this.consumer, 0);\n        this.setState({started: true, textList: [\"** Connected to Websocket **\"]});\n    }\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n                <h1>TTS Tool (Open in Browser, not in Streaming Tool)</h1>\n                {this.state.started ? <button disabled>TTS Activated</button> : <button onClick={() => {this.start();}}>Activate TTS</button>}\n                <h3>Log</h3>\n                <pre style={{backgroundColor: \"gray\", color: \"white\", width: \"80%\", height: \"500px\", marginLeft: \"10px\"}}>\n                    {this.state.textList.map((text) => {\n                        return \" \" + text + \"\\n\";\n                    })}\n                </pre>\n            </div>\n\t\t);\n\t}\n}\n\nexport default TTS;\n","import React, {useState} from 'react';\nimport VideoPlayer from './multi/VideoPlayer';\n\nconst VideoTestHarness = () => {\n    const [chromaKey, setChromaKey] = useState(null);\n    const [lowerBound, setLowerBound] = useState(0);\n    const [upperBound, setUpperBound] = useState(255);\n    const [visible, setVisible] = useState(true);\n    let params = new URLSearchParams(window.location.search);\n    let videoUrl = params.get(\"videoUrl\");\n    let background = params.get(\"backgroundUrl\");\n\n    return (\n        <div style={{background: `url(${background})`}}>\n            { visible ?\n                <VideoPlayer\n                    url={videoUrl}\n                    volume={1.0}\n                    chromaKey={chromaKey}\n                    lowerBound={lowerBound}\n                    upperBound={upperBound}\n                    onComplete={() => {\n                        setVisible(false);\n                        setTimeout(() => {\n                            setVisible(true);\n                        }, 500);\n                    }}\n                /> : null}\n            <div style={{position: \"absolute\", bottom: \"0px\", width: \"100vw\", textAlign: \"center\", zIndex: \"9999\"}}>\n                <label>Chroma Key&nbsp;</label>\n                <select onChange={({target: {value}}) => {setChromaKey(value)}}>\n                    <option>None</option>\n                    <option value=\"red\">Red</option>\n                    <option value=\"green\">Green</option>\n                    <option value=\"blue\">Blue</option>\n                    <option value=\"black\">Black</option>\n                    <option value=\"custom\">Custom</option>\n                </select><br/>\n                { chromaKey === \"custom\" ?\n                    <>\n                        <label>Lower Bound</label><input type=\"range\" value={lowerBound} max={255} onChange={({target: {value}}) => {setLowerBound(value)}} /><span>{lowerBound}</span><br/>\n                        <label>Upper Bound</label><input type=\"range\" value={upperBound} max={255} onChange={({target: {value}}) => {setUpperBound(value)}} /><span>{upperBound}</span>\n                    </> : null\n                }\n            </div>\n        </div>\n    );\n}\n\nexport default VideoTestHarness","import React from 'react';\nimport './App.css';\n\nimport {BrowserRouter as Router, Switch, Route} from 'react-router-dom';\nimport DeathCounter from './routes/DeathCounter';\nimport Home from './routes/Home';\nimport RequestQueue from './routes/RequestQueue';\nimport TwitchMultiOverlay from './routes/multi/TwitchMultiOverlay';\nimport SoundPlayer from './routes/SoundPlayer';\nimport SpeechSynthesisTester from './routes/SpeechSynthesisTester';\nimport WhatTheDub from './routes/WhatTheDub';\nimport RaidAlertTestHarness from './routes/RaidAlertTestHarness';\nimport TTS from './routes/TTS';\nimport VideoTestHarness from './routes/VideoTestHarness';\n\nclass App extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<Router>\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route path={`${process.env.PUBLIC_URL}/tts`} component={TTS} exact />\n\t\t\t\t\t<Route path={`${process.env.PUBLIC_URL}/wtd`} component={WhatTheDub} exact />\n\t\t\t\t\t<Route path={`${process.env.PUBLIC_URL}/speech/test`} component={SpeechSynthesisTester} exact />\n\t\t\t\t\t<Route path={`${process.env.PUBLIC_URL}/multi`} component={TwitchMultiOverlay} exact />\n\t\t\t\t\t<Route path={`${process.env.PUBLIC_URL}/death-counter`} component={DeathCounter} exact />\n\t\t\t\t\t<Route path={`${process.env.PUBLIC_URL}/sound-player`} component={SoundPlayer} exact />\n\t\t\t\t\t<Route path={`${process.env.PUBLIC_URL}/requests`} component={RequestQueue} exact />\n\t\t\t\t\t<Route path={`${process.env.PUBLIC_URL}/raid-test`} component={RaidAlertTestHarness} exact />\n\t\t\t\t\t<Route path={`${process.env.PUBLIC_URL}/video-test`} component={VideoTestHarness} exact />\n\n\t\t\t\t\t<Route path={`${process.env.PUBLIC_URL}/tools/raid-test`} component={RaidAlertTestHarness} exact />\n\t\t\t\t\t<Route path={`${process.env.PUBLIC_URL}/tools/video-test`} component={VideoTestHarness} exact />\n\t\t\t\t\t<Route path={`${process.env.PUBLIC_URL}/overlays/multi`} component={TwitchMultiOverlay} exact />\n\t\t\t\t\t<Route path={`${process.env.PUBLIC_URL}/overlays/death-counter`} component={DeathCounter} exact />\n\t\t\t\t\t<Route path={`${process.env.PUBLIC_URL}/overlays/sound-player`} component={SoundPlayer} exact />\n\t\t\t\t\t<Route path={`${process.env.PUBLIC_URL}/overlays/requests`} component={RequestQueue} exact />\n\t\t\t\t\t<Route path={`${process.env.PUBLIC_URL}/`} component={Home} />\n\t\t\t\t</Switch>\n\t\t\t</Router>\n\t\t);\n\t}\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nwindow.speechSynthesis.onvoiceschanged = () => {\n  window.maleVoice = window.speechSynthesis.getVoices().find((element) => {\n      return element.name === \"Microsoft David - English (United States)\";\n  });\n\n  window.femaleVoice = window.speechSynthesis.getVoices().find((element) => {\n      return element.name === \"Microsoft Zira - English (United States)\";\n  });\n\n  console.log(\"MAN:   \" + window.maleVoice);\n  console.log(\"WOMAN: \" + window.femaleVoice);\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}